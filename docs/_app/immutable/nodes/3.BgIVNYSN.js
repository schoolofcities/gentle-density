import{s as st,e as E,b as B,X as V,t as ne,p as le,d as F,O as Te,j as P,Y as W,f as U,h as re,i as d,w as ge,v as a,F as En,k as D,l as b,Z as Fn,n as xe,P as _e,$ as lt,R as yn,m as Fe,_ as Ln,r as On}from"../chunks/scheduler.ks1pSGFJ.js";import{S as ut,i as ct,b as Qe,d as Ze,m as qe,t as je,a as Je,e as Xe}from"../chunks/index.Dh7u8-eO.js";import{e as G,T as An,R as Hn}from"../chunks/ReadMore.bmN7doA0.js";import{g as vt}from"../chunks/group.z45cY_Md.js";import{t as Yn,c as pn,a as Dt,f as zn,b as Vn,d as Wn,e as St,g as In,l as pt}from"../chunks/linear.BGFBn2__.js";import{i as vn}from"../chunks/init.Gi6I4Gst.js";import{c as Nn}from"../chunks/csv.BqGHGP1s.js";function Bn(e,t){let r=0,n=0;for(let l of e)l!=null&&(l=+l)>=l&&(++r,n+=l);if(r)return n/r}function bt(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let l of e)(l=+t(l,++n,e))&&(r+=l)}return r}function bn(e,t){e=e.slice();var r=0,n=e.length-1,l=e[r],o=e[n],i;return o<l&&(i=r,r=n,n=i,i=l,l=o,o=i),e[r]=t.floor(l),e[n]=t.ceil(o),e}function Ut(e){return Math.log(e)}function Et(e){return Math.exp(e)}function Pn(e){return-Math.log(-e)}function Rn(e){return-Math.exp(-e)}function Gn(e){return isFinite(e)?+("1e"+e):e<0?0:e}function $n(e){return e===10?Gn:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Qn(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Ft(e){return(t,r)=>-e(-t,r)}function Zn(e){const t=e(Ut,Et),r=t.domain;let n=10,l,o;function i(){return l=Qn(n),o=$n(n),r()[0]<0?(l=Ft(l),o=Ft(o),e(Pn,Rn)):e(Ut,Et),t}return t.base=function(h){return arguments.length?(n=+h,i()):n},t.domain=function(h){return arguments.length?(r(h),i()):r()},t.ticks=h=>{const c=r();let s=c[0],f=c[c.length-1];const u=f<s;u&&([s,f]=[f,s]);let v=l(s),w=l(f),g,k;const T=h==null?10:+h;let L=[];if(!(n%1)&&w-v<T){if(v=Math.floor(v),w=Math.ceil(w),s>0){for(;v<=w;++v)for(g=1;g<n;++g)if(k=v<0?g/o(-v):g*o(v),!(k<s)){if(k>f)break;L.push(k)}}else for(;v<=w;++v)for(g=n-1;g>=1;--g)if(k=v>0?g/o(-v):g*o(v),!(k<s)){if(k>f)break;L.push(k)}L.length*2<T&&(L=Dt(s,f,T))}else L=Dt(v,w,Math.min(w-v,T)).map(o);return u?L.reverse():L},t.tickFormat=(h,c)=>{if(h==null&&(h=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=zn(c)).precision==null&&(c.trim=!0),c=Vn(c)),h===1/0)return c;const s=Math.max(1,n*h/t.ticks().length);return f=>{let u=f/o(Math.round(l(f)));return u*n<n-.5&&(u*=n),u<=s?c(f):""}},t.nice=()=>r(bn(r(),{floor:h=>o(Math.floor(l(h))),ceil:h=>o(Math.ceil(l(h)))})),t}function wn(){const e=Zn(Yn()).domain([1,10]);return e.copy=()=>pn(e,wn()).base(e.base()),vn.apply(e,arguments),e}const mt=new Date,gt=new Date;function ae(e,t,r,n){function l(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return l.floor=o=>(e(o=new Date(+o)),o),l.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),l.round=o=>{const i=l(o),h=l.ceil(o);return o-i<h-o?i:h},l.offset=(o,i)=>(t(o=new Date(+o),i==null?1:Math.floor(i)),o),l.range=(o,i,h)=>{const c=[];if(o=l.ceil(o),h=h==null?1:Math.floor(h),!(o<i)||!(h>0))return c;let s;do c.push(s=new Date(+o)),t(o,h),e(o);while(s<o&&o<i);return c},l.filter=o=>ae(i=>{if(i>=i)for(;e(i),!o(i);)i.setTime(i-1)},(i,h)=>{if(i>=i)if(h<0)for(;++h<=0;)for(;t(i,-1),!o(i););else for(;--h>=0;)for(;t(i,1),!o(i););}),r&&(l.count=(o,i)=>(mt.setTime(+o),gt.setTime(+i),e(mt),e(gt),Math.floor(r(mt,gt))),l.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?l.filter(n?i=>n(i)%o===0:i=>l.count(0,i)%o===0):l)),l}const it=ae(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);it.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ae(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):it);it.range;const Ue=1e3,Me=Ue*60,Ee=Me*60,Le=Ee*24,wt=Le*7,Lt=Le*30,dt=Le*365,Be=ae(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ue)},(e,t)=>(t-e)/Ue,e=>e.getUTCSeconds());Be.range;const Tt=ae(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ue)},(e,t)=>{e.setTime(+e+t*Me)},(e,t)=>(t-e)/Me,e=>e.getMinutes());Tt.range;const qn=ae(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Me)},(e,t)=>(t-e)/Me,e=>e.getUTCMinutes());qn.range;const Mt=ae(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ue-e.getMinutes()*Me)},(e,t)=>{e.setTime(+e+t*Ee)},(e,t)=>(t-e)/Ee,e=>e.getHours());Mt.range;const jn=ae(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ee)},(e,t)=>(t-e)/Ee,e=>e.getUTCHours());jn.range;const nt=ae(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Me)/Le,e=>e.getDate()-1);nt.range;const Ct=ae(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Le,e=>e.getUTCDate()-1);Ct.range;const Jn=ae(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Le,e=>Math.floor(e/Le));Jn.range;function We(e){return ae(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Me)/wt)}const ft=We(0),ot=We(1),Xn=We(2),Kn=We(3),Pe=We(4),er=We(5),tr=We(6);ft.range;ot.range;Xn.range;Kn.range;Pe.range;er.range;tr.range;function Ie(e){return ae(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/wt)}const Tn=Ie(0),at=Ie(1),nr=Ie(2),rr=Ie(3),Re=Ie(4),lr=Ie(5),ir=Ie(6);Tn.range;at.range;nr.range;rr.range;Re.range;lr.range;ir.range;const kt=ae(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());kt.range;const or=ae(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());or.range;const Oe=ae(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Oe.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ae(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Oe.range;const Ve=ae(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ve.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ae(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ve.range;function ar(e,t,r,n,l,o){const i=[[Be,1,Ue],[Be,5,5*Ue],[Be,15,15*Ue],[Be,30,30*Ue],[o,1,Me],[o,5,5*Me],[o,15,15*Me],[o,30,30*Me],[l,1,Ee],[l,3,3*Ee],[l,6,6*Ee],[l,12,12*Ee],[n,1,Le],[n,2,2*Le],[r,1,wt],[t,1,Lt],[t,3,3*Lt],[e,1,dt]];function h(s,f,u){const v=f<s;v&&([s,f]=[f,s]);const w=u&&typeof u.range=="function"?u:c(s,f,u),g=w?w.range(s,+f+1):[];return v?g.reverse():g}function c(s,f,u){const v=Math.abs(f-s)/u,w=Wn(([,,T])=>T).right(i,v);if(w===i.length)return e.every(St(s/dt,f/dt,u));if(w===0)return it.every(Math.max(St(s,f,u),1));const[g,k]=i[v/i[w-1][2]<i[w][2]/v?w-1:w];return g.every(k)}return[h,c]}const[sr,ur]=ar(Oe,kt,ft,nt,Mt,Tt);function _t(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ke(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function cr(e){var t=e.dateTime,r=e.date,n=e.time,l=e.periods,o=e.days,i=e.shortDays,h=e.months,c=e.shortMonths,s=et(l),f=tt(l),u=et(o),v=tt(o),w=et(i),g=tt(i),k=et(h),T=tt(h),L=et(c),A=tt(c),H={a:ie,A:pe,b:Ae,B:be,c:null,d:Vt,e:Vt,f:Or,g:Pr,G:Gr,H:Er,I:Fr,j:Lr,L:Mn,m:Ar,M:Hr,p:R,q:Ce,Q:Nt,s:Bt,S:Yr,u:zr,U:Vr,V:Wr,w:Ir,W:Nr,x:null,X:null,y:Br,Y:Rr,Z:$r,"%":It},Q={a:j,A:me,b:K,B:we,c:null,d:Wt,e:Wt,f:jr,g:ol,G:sl,H:Qr,I:Zr,j:qr,L:kn,m:Jr,M:Xr,p:J,q:y,Q:Nt,s:Bt,S:Kr,u:el,U:tl,V:nl,w:rl,W:ll,x:null,X:null,y:il,Y:al,Z:ul,"%":It},S={a:fe,A:I,b:ue,B:De,c:de,d:Yt,e:Yt,f:xr,g:Ht,G:At,H:zt,I:zt,j:Tr,L:kr,m:wr,M:Mr,p:q,q:br,Q:Sr,s:Ur,S:Cr,u:dr,U:_r,V:yr,w:gr,W:pr,x:ye,X:he,y:Ht,Y:At,Z:vr,"%":Dr};H.x=M(r,H),H.X=M(n,H),H.c=M(t,H),Q.x=M(r,Q),Q.X=M(n,Q),Q.c=M(t,Q);function M(_,m){return function(C){var p=[],ee=-1,O=0,te=_.length,Z,ve,Se;for(C instanceof Date||(C=new Date(+C));++ee<te;)_.charCodeAt(ee)===37&&(p.push(_.slice(O,ee)),(ve=Ot[Z=_.charAt(++ee)])!=null?Z=_.charAt(++ee):ve=Z==="e"?" ":"0",(Se=m[Z])&&(Z=Se(C,ve)),p.push(Z),O=ee+1);return p.push(_.slice(O,ee)),p.join("")}}function x(_,m){return function(C){var p=Ke(1900,void 0,1),ee=z(p,_,C+="",0),O,te;if(ee!=C.length)return null;if("Q"in p)return new Date(p.Q);if("s"in p)return new Date(p.s*1e3+("L"in p?p.L:0));if(m&&!("Z"in p)&&(p.Z=0),"p"in p&&(p.H=p.H%12+p.p*12),p.m===void 0&&(p.m="q"in p?p.q:0),"V"in p){if(p.V<1||p.V>53)return null;"w"in p||(p.w=1),"Z"in p?(O=yt(Ke(p.y,0,1)),te=O.getUTCDay(),O=te>4||te===0?at.ceil(O):at(O),O=Ct.offset(O,(p.V-1)*7),p.y=O.getUTCFullYear(),p.m=O.getUTCMonth(),p.d=O.getUTCDate()+(p.w+6)%7):(O=_t(Ke(p.y,0,1)),te=O.getDay(),O=te>4||te===0?ot.ceil(O):ot(O),O=nt.offset(O,(p.V-1)*7),p.y=O.getFullYear(),p.m=O.getMonth(),p.d=O.getDate()+(p.w+6)%7)}else("W"in p||"U"in p)&&("w"in p||(p.w="u"in p?p.u%7:"W"in p?1:0),te="Z"in p?yt(Ke(p.y,0,1)).getUTCDay():_t(Ke(p.y,0,1)).getDay(),p.m=0,p.d="W"in p?(p.w+6)%7+p.W*7-(te+5)%7:p.w+p.U*7-(te+6)%7);return"Z"in p?(p.H+=p.Z/100|0,p.M+=p.Z%100,yt(p)):_t(p)}}function z(_,m,C,p){for(var ee=0,O=m.length,te=C.length,Z,ve;ee<O;){if(p>=te)return-1;if(Z=m.charCodeAt(ee++),Z===37){if(Z=m.charAt(ee++),ve=S[Z in Ot?m.charAt(ee++):Z],!ve||(p=ve(_,C,p))<0)return-1}else if(Z!=C.charCodeAt(p++))return-1}return p}function q(_,m,C){var p=s.exec(m.slice(C));return p?(_.p=f.get(p[0].toLowerCase()),C+p[0].length):-1}function fe(_,m,C){var p=w.exec(m.slice(C));return p?(_.w=g.get(p[0].toLowerCase()),C+p[0].length):-1}function I(_,m,C){var p=u.exec(m.slice(C));return p?(_.w=v.get(p[0].toLowerCase()),C+p[0].length):-1}function ue(_,m,C){var p=L.exec(m.slice(C));return p?(_.m=A.get(p[0].toLowerCase()),C+p[0].length):-1}function De(_,m,C){var p=k.exec(m.slice(C));return p?(_.m=T.get(p[0].toLowerCase()),C+p[0].length):-1}function de(_,m,C){return z(_,t,m,C)}function ye(_,m,C){return z(_,r,m,C)}function he(_,m,C){return z(_,n,m,C)}function ie(_){return i[_.getDay()]}function pe(_){return o[_.getDay()]}function Ae(_){return c[_.getMonth()]}function be(_){return h[_.getMonth()]}function R(_){return l[+(_.getHours()>=12)]}function Ce(_){return 1+~~(_.getMonth()/3)}function j(_){return i[_.getUTCDay()]}function me(_){return o[_.getUTCDay()]}function K(_){return c[_.getUTCMonth()]}function we(_){return h[_.getUTCMonth()]}function J(_){return l[+(_.getUTCHours()>=12)]}function y(_){return 1+~~(_.getUTCMonth()/3)}return{format:function(_){var m=M(_+="",H);return m.toString=function(){return _},m},parse:function(_){var m=x(_+="",!1);return m.toString=function(){return _},m},utcFormat:function(_){var m=M(_+="",Q);return m.toString=function(){return _},m},utcParse:function(_){var m=x(_+="",!0);return m.toString=function(){return _},m}}}var Ot={"-":"",_:" ",0:"0"},se=/^\s*\d+/,fr=/^%/,hr=/[\\^$*+?|[\]().{}]/g;function Y(e,t,r){var n=e<0?"-":"",l=(n?-e:e)+"",o=l.length;return n+(o<r?new Array(r-o+1).join(t)+l:l)}function mr(e){return e.replace(hr,"\\$&")}function et(e){return new RegExp("^(?:"+e.map(mr).join("|")+")","i")}function tt(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function gr(e,t,r){var n=se.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function dr(e,t,r){var n=se.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function _r(e,t,r){var n=se.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function yr(e,t,r){var n=se.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function pr(e,t,r){var n=se.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function At(e,t,r){var n=se.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Ht(e,t,r){var n=se.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function vr(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function br(e,t,r){var n=se.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function wr(e,t,r){var n=se.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Yt(e,t,r){var n=se.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Tr(e,t,r){var n=se.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function zt(e,t,r){var n=se.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function Mr(e,t,r){var n=se.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function Cr(e,t,r){var n=se.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function kr(e,t,r){var n=se.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function xr(e,t,r){var n=se.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Dr(e,t,r){var n=fr.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function Sr(e,t,r){var n=se.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function Ur(e,t,r){var n=se.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function Vt(e,t){return Y(e.getDate(),t,2)}function Er(e,t){return Y(e.getHours(),t,2)}function Fr(e,t){return Y(e.getHours()%12||12,t,2)}function Lr(e,t){return Y(1+nt.count(Oe(e),e),t,3)}function Mn(e,t){return Y(e.getMilliseconds(),t,3)}function Or(e,t){return Mn(e,t)+"000"}function Ar(e,t){return Y(e.getMonth()+1,t,2)}function Hr(e,t){return Y(e.getMinutes(),t,2)}function Yr(e,t){return Y(e.getSeconds(),t,2)}function zr(e){var t=e.getDay();return t===0?7:t}function Vr(e,t){return Y(ft.count(Oe(e)-1,e),t,2)}function Cn(e){var t=e.getDay();return t>=4||t===0?Pe(e):Pe.ceil(e)}function Wr(e,t){return e=Cn(e),Y(Pe.count(Oe(e),e)+(Oe(e).getDay()===4),t,2)}function Ir(e){return e.getDay()}function Nr(e,t){return Y(ot.count(Oe(e)-1,e),t,2)}function Br(e,t){return Y(e.getFullYear()%100,t,2)}function Pr(e,t){return e=Cn(e),Y(e.getFullYear()%100,t,2)}function Rr(e,t){return Y(e.getFullYear()%1e4,t,4)}function Gr(e,t){var r=e.getDay();return e=r>=4||r===0?Pe(e):Pe.ceil(e),Y(e.getFullYear()%1e4,t,4)}function $r(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Y(t/60|0,"0",2)+Y(t%60,"0",2)}function Wt(e,t){return Y(e.getUTCDate(),t,2)}function Qr(e,t){return Y(e.getUTCHours(),t,2)}function Zr(e,t){return Y(e.getUTCHours()%12||12,t,2)}function qr(e,t){return Y(1+Ct.count(Ve(e),e),t,3)}function kn(e,t){return Y(e.getUTCMilliseconds(),t,3)}function jr(e,t){return kn(e,t)+"000"}function Jr(e,t){return Y(e.getUTCMonth()+1,t,2)}function Xr(e,t){return Y(e.getUTCMinutes(),t,2)}function Kr(e,t){return Y(e.getUTCSeconds(),t,2)}function el(e){var t=e.getUTCDay();return t===0?7:t}function tl(e,t){return Y(Tn.count(Ve(e)-1,e),t,2)}function xn(e){var t=e.getUTCDay();return t>=4||t===0?Re(e):Re.ceil(e)}function nl(e,t){return e=xn(e),Y(Re.count(Ve(e),e)+(Ve(e).getUTCDay()===4),t,2)}function rl(e){return e.getUTCDay()}function ll(e,t){return Y(at.count(Ve(e)-1,e),t,2)}function il(e,t){return Y(e.getUTCFullYear()%100,t,2)}function ol(e,t){return e=xn(e),Y(e.getUTCFullYear()%100,t,2)}function al(e,t){return Y(e.getUTCFullYear()%1e4,t,4)}function sl(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Re(e):Re.ceil(e),Y(e.getUTCFullYear()%1e4,t,4)}function ul(){return"+0000"}function It(){return"%"}function Nt(e){return+e}function Bt(e){return Math.floor(+e/1e3)}var Ne,Dn,Sn;cl({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function cl(e){return Ne=cr(e),Dn=Ne.format,Sn=Ne.parse,Ne.utcFormat,Ne.utcParse,Ne}function fl(e){return new Date(e)}function hl(e){return e instanceof Date?+e:+new Date(+e)}function Un(e,t,r,n,l,o,i,h,c,s){var f=In(),u=f.invert,v=f.domain,w=s(".%L"),g=s(":%S"),k=s("%I:%M"),T=s("%I %p"),L=s("%a %d"),A=s("%b %d"),H=s("%B"),Q=s("%Y");function S(M){return(c(M)<M?w:h(M)<M?g:i(M)<M?k:o(M)<M?T:n(M)<M?l(M)<M?L:A:r(M)<M?H:Q)(M)}return f.invert=function(M){return new Date(u(M))},f.domain=function(M){return arguments.length?v(Array.from(M,hl)):v().map(fl)},f.ticks=function(M){var x=v();return e(x[0],x[x.length-1],M??10)},f.tickFormat=function(M,x){return x==null?S:s(x)},f.nice=function(M){var x=v();return(!M||typeof M.range!="function")&&(M=t(x[0],x[x.length-1],M??10)),M?v(bn(x,M)):f},f.copy=function(){return pn(f,Un(e,t,r,n,l,o,i,h,c,s))},f}function ml(){return vn.apply(Un(sr,ur,Oe,kt,ft,nt,Mt,Tt,Be,Dn).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const gl=!0,Pl=Object.freeze(Object.defineProperty({__proto__:null,prerender:gl},Symbol.toStringTag,{value:"Module"}));function Pt(e,t,r){const n=e.slice();return n[19]=t[r],n[21]=r,n}function Rt(e,t,r){const n=e.slice();return n[22]=t[r],n}function Gt(e,t,r){const n=e.slice();return n[25]=t[r],n}function $t(e,t,r){const n=e.slice();return n[25]=t[r],n}function Qt(e){let t,r=e[25]+"",n,l,o,i,h;function c(){return e[15](e[25])}return{c(){t=E("div"),n=ne(r),l=B(),this.h()},l(s){t=F(s,"DIV",{class:!0});var f=U(t);n=re(f,r),l=P(f),f.forEach(d),this.h()},h(){a(t,"class",o=lt(e[25]===e[0]?"option-selected":"option-not-selected")+" svelte-19rgk4g")},m(s,f){D(s,t,f),b(t,n),b(t,l),i||(h=yn(t,"click",c),i=!0)},p(s,f){e=s,f&1&&o!==(o=lt(e[25]===e[0]?"option-selected":"option-not-selected")+" svelte-19rgk4g")&&a(t,"class",o)},d(s){s&&d(t),i=!1,h()}}}function Zt(e){let t,r=e[25]+"",n,l,o,i,h;function c(){return e[16](e[25])}return{c(){t=E("div"),n=ne(r),l=B(),this.h()},l(s){t=F(s,"DIV",{class:!0});var f=U(t);n=re(f,r),l=P(f),f.forEach(d),this.h()},h(){a(t,"class",o=lt(e[25]===e[2]?"option-selected":"option-not-selected")+" svelte-19rgk4g")},m(s,f){D(s,t,f),b(t,n),b(t,l),i||(h=yn(t,"click",c),i=!0)},p(s,f){e=s,f&4&&o!==(o=lt(e[25]===e[2]?"option-selected":"option-not-selected")+" svelte-19rgk4g")&&a(t,"class",o)},d(s){s&&d(t),i=!1,h()}}}function qt(e){let t,r,n,l,o=Jt(e[22])+"",i,h;return{c(){t=V("line"),l=V("text"),i=ne(o),this.h()},l(c){t=W(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),U(t).forEach(d),l=W(c,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var s=U(l);i=re(s,o),s.forEach(d),this.h()},h(){a(t,"x1",r=e[4](e[22])),a(t,"y1","25"),a(t,"x2",n=e[4](e[22])),a(t,"y2",e[10]),ge(t,"stroke","#8EB6DC"),ge(t,"stroke-width","1"),ge(t,"opacity","0.5"),a(l,"x",h=e[4](e[22])),a(l,"y","20"),a(l,"id","labelBar"),a(l,"text-anchor","middle"),a(l,"font-size","16"),a(l,"class","svelte-19rgk4g")},m(c,s){D(c,t,s),D(c,l,s),b(l,i)},p(c,s){s&24&&r!==(r=c[4](c[22]))&&a(t,"x1",r),s&24&&n!==(n=c[4](c[22]))&&a(t,"x2",n),s&8&&o!==(o=Jt(c[22])+"")&&Fe(i,o),s&24&&h!==(h=c[4](c[22]))&&a(l,"x",h)},d(c){c&&(d(t),d(l))}}}function jt(e){let t,r=e[19].GEO.split(",")[0]+"",n,l,o=e[19].conv+"",i,h,c=Math.round(100*e[19].per)+"",s,f,u,v,w;return{c(){t=V("text"),n=ne(r),l=ne(": "),i=ne(o),h=ne(" ("),s=ne(c),f=ne("%)"),u=V("rect"),this.h()},l(g){t=W(g,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var k=U(t);n=re(k,r),l=re(k,": "),i=re(k,o),h=re(k," ("),s=re(k,c),f=re(k,"%)"),k.forEach(d),u=W(g,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),U(u).forEach(d),this.h()},h(){a(t,"x","0"),a(t,"y",e[21]*32+43),a(t,"id","labelBar"),a(t,"text-anchor","start"),a(t,"font-size","16"),a(t,"class","svelte-19rgk4g"),a(u,"id","bar"),a(u,"x",0),a(u,"y",e[21]*32+47),a(u,"height",8),a(u,"width",v=e[4](e[19].conv)),a(u,"fill",w=e[19].colour)},m(g,k){D(g,t,k),b(t,n),b(t,l),b(t,i),b(t,h),b(t,s),b(t,f),D(g,u,k)},p(g,k){k&32&&r!==(r=g[19].GEO.split(",")[0]+"")&&Fe(n,r),k&32&&o!==(o=g[19].conv+"")&&Fe(i,o),k&32&&c!==(c=Math.round(100*g[19].per)+"")&&Fe(s,c),k&48&&v!==(v=g[4](g[19].conv))&&a(u,"width",v),k&32&&w!==(w=g[19].colour)&&a(u,"fill",w)},d(g){g&&(d(t),d(u))}}}function dl(e){let t,r="Total and percent of new dwellings from building conversions",n,l,o="(based on issued building permits)",i,h,c,s,f,u,v,w,g,k,T,L,A,H,Q,S,M,x,z,q,fe,I,ue,De,de,ye,he,ie,pe,Ae,be=G(e[6]),R=[];for(let y=0;y<be.length;y+=1)R[y]=Qt($t(e,be,y));let Ce=G(e[8]),j=[];for(let y=0;y<Ce.length;y+=1)j[y]=Zt(Gt(e,Ce,y));let me=G(e[3]),K=[];for(let y=0;y<me.length;y+=1)K[y]=qt(Rt(e,me,y));let we=G(e[5]),J=[];for(let y=0;y<we.length;y+=1)J[y]=jt(Pt(e,we,y));return{c(){t=E("h3"),t.textContent=r,n=B(),l=E("p"),l.textContent=o,i=B(),h=E("br"),c=B(),s=V("svg"),f=V("text"),u=ne("01/2019 to 12/2023 (5 years total)"),v=B(),w=V("svg"),g=V("text"),k=ne("% of all new units from conversions"),T=V("rect"),L=V("rect"),A=V("rect"),H=V("text"),Q=ne("5%"),S=V("text"),M=ne("10%"),x=B(),z=V("svg"),q=V("text"),fe=ne("# of new units just from conversions"),I=B(),ue=E("div");for(let y=0;y<R.length;y+=1)R[y].c();De=B(),de=E("div");for(let y=0;y<j.length;y+=1)j[y].c();ye=B(),he=E("div"),ie=V("svg");for(let y=0;y<K.length;y+=1)K[y].c();pe=le();for(let y=0;y<J.length;y+=1)J[y].c();this.h()},l(y){t=F(y,"H3",{"data-svelte-h":!0}),Te(t)!=="svelte-n00m8l"&&(t.textContent=r),n=P(y),l=F(y,"P",{style:!0,"data-svelte-h":!0}),Te(l)!=="svelte-1am033t"&&(l.textContent=o),i=P(y),h=F(y,"BR",{}),c=P(y),s=W(y,"svg",{id:!0,height:!0,width:!0,class:!0});var _=U(s);f=W(_,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var m=U(f);u=re(m,"01/2019 to 12/2023 (5 years total)"),m.forEach(d),_.forEach(d),v=P(y),w=W(y,"svg",{id:!0,height:!0,width:!0,class:!0});var C=U(w);g=W(C,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var p=U(g);k=re(p,"% of all new units from conversions"),p.forEach(d),T=W(C,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),U(T).forEach(d),L=W(C,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),U(L).forEach(d),A=W(C,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),U(A).forEach(d),H=W(C,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var ee=U(H);Q=re(ee,"5%"),ee.forEach(d),S=W(C,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var O=U(S);M=re(O,"10%"),O.forEach(d),C.forEach(d),x=P(y),z=W(y,"svg",{id:!0,height:!0,width:!0,class:!0});var te=U(z);q=W(te,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var Z=U(q);fe=re(Z,"# of new units just from conversions"),Z.forEach(d),te.forEach(d),I=P(y),ue=F(y,"DIV",{class:!0});var ve=U(ue);for(let X=0;X<R.length;X+=1)R[X].l(ve);ve.forEach(d),De=P(y),de=F(y,"DIV",{class:!0});var Se=U(de);for(let X=0;X<j.length;X+=1)j[X].l(Se);Se.forEach(d),ye=P(y),he=F(y,"DIV",{class:!0});var ke=U(he);ie=W(ke,"svg",{height:!0,width:!0,id:!0});var He=U(ie);for(let X=0;X<K.length;X+=1)K[X].l(He);pe=le();for(let X=0;X<J.length;X+=1)J[X].l(He);He.forEach(d),ke.forEach(d),this.h()},h(){ge(l,"margin-top","-20px"),ge(l,"font-size","16px"),a(f,"x","0"),a(f,"y","12"),a(f,"id","labelBar"),a(f,"text-anchor","start"),a(f,"font-size","16"),a(f,"class","svelte-19rgk4g"),a(s,"id","years"),a(s,"height","35"),a(s,"width",e[1]),a(s,"class","svelte-19rgk4g"),a(g,"x","0"),a(g,"y","12"),a(g,"id","labelBar"),a(g,"text-anchor","start"),a(g,"font-size","16"),a(g,"class","svelte-19rgk4g"),a(T,"id","legendBar"),a(T,"x",0),a(T,"y",22),a(T,"height",8),a(T,"width",99),a(T,"fill","#F1C500"),a(L,"id","legendBar"),a(L,"x",101),a(L,"y",22),a(L,"height",8),a(L,"width",99),a(L,"fill","#ce6c35"),a(A,"id","legendBar"),a(A,"x",202),a(A,"y",22),a(A,"height",8),a(A,"width",99),a(A,"fill","#ab1269"),a(H,"x","100"),a(H,"y","44"),a(H,"id","labelBar"),a(H,"text-anchor","middle"),a(H,"font-size","16"),a(H,"class","svelte-19rgk4g"),a(S,"x","200"),a(S,"y","44"),a(S,"id","labelBar"),a(S,"text-anchor","middle"),a(S,"font-size","16"),a(S,"class","svelte-19rgk4g"),a(w,"id","legend"),a(w,"height","50"),a(w,"width",e[1]),a(w,"class","svelte-19rgk4g"),a(q,"x","0"),a(q,"y","12"),a(q,"id","labelBar"),a(q,"text-anchor","start"),a(q,"font-size","16"),a(q,"class","svelte-19rgk4g"),a(z,"id","legend"),a(z,"height","15"),a(z,"width",e[1]),a(z,"class","svelte-19rgk4g"),a(ue,"class","options-container svelte-19rgk4g"),a(de,"class","options-container svelte-19rgk4g"),a(ie,"height",e[10]),a(ie,"width",e[1]),a(ie,"id","svgChart"),a(he,"class","chart-wrapper"),En(()=>e[17].call(he))},m(y,_){D(y,t,_),D(y,n,_),D(y,l,_),D(y,i,_),D(y,h,_),D(y,c,_),D(y,s,_),b(s,f),b(f,u),D(y,v,_),D(y,w,_),b(w,g),b(g,k),b(w,T),b(w,L),b(w,A),b(w,H),b(H,Q),b(w,S),b(S,M),D(y,x,_),D(y,z,_),b(z,q),b(q,fe),D(y,I,_),D(y,ue,_);for(let m=0;m<R.length;m+=1)R[m]&&R[m].m(ue,null);D(y,De,_),D(y,de,_);for(let m=0;m<j.length;m+=1)j[m]&&j[m].m(de,null);D(y,ye,_),D(y,he,_),b(he,ie);for(let m=0;m<K.length;m+=1)K[m]&&K[m].m(ie,null);b(ie,pe);for(let m=0;m<J.length;m+=1)J[m]&&J[m].m(ie,null);Ae=Fn(he,e[17].bind(he))},p(y,[_]){if(_&2&&a(s,"width",y[1]),_&2&&a(w,"width",y[1]),_&2&&a(z,"width",y[1]),_&193){be=G(y[6]);let m;for(m=0;m<be.length;m+=1){const C=$t(y,be,m);R[m]?R[m].p(C,_):(R[m]=Qt(C),R[m].c(),R[m].m(ue,null))}for(;m<R.length;m+=1)R[m].d(1);R.length=be.length}if(_&772){Ce=G(y[8]);let m;for(m=0;m<Ce.length;m+=1){const C=Gt(y,Ce,m);j[m]?j[m].p(C,_):(j[m]=Zt(C),j[m].c(),j[m].m(de,null))}for(;m<j.length;m+=1)j[m].d(1);j.length=Ce.length}if(_&1048){me=G(y[3]);let m;for(m=0;m<me.length;m+=1){const C=Rt(y,me,m);K[m]?K[m].p(C,_):(K[m]=qt(C),K[m].c(),K[m].m(ie,pe))}for(;m<K.length;m+=1)K[m].d(1);K.length=me.length}if(_&48){we=G(y[5]);let m;for(m=0;m<we.length;m+=1){const C=Pt(y,we,m);J[m]?J[m].p(C,_):(J[m]=jt(C),J[m].c(),J[m].m(ie,null))}for(;m<J.length;m+=1)J[m].d(1);J.length=we.length}_&2&&a(ie,"width",y[1])},i:xe,o:xe,d(y){y&&(d(t),d(n),d(l),d(i),d(h),d(c),d(s),d(v),d(w),d(x),d(z),d(I),d(ue),d(De),d(de),d(ye),d(he)),_e(R,y),_e(j,y),_e(K,y),_e(J,y),Ae()}}}function Jt(e){return e>999?e%1e3===0?(e/1e3).toFixed(0)+"k":(e/1e3).toFixed(1)+"k":e}function _l(e,t,r){let n,l,o,{data:i}=t,{cities:h}=t,c="Log Scale",s=["Linear Scale","Log Scale"];function f(S){r(0,c=S)}let u="Sort by #",v=["Sort by #","Sort by %"];function w(S){r(2,u=S),S==="Sort by #"?r(5,o=o.sort((M,x)=>x.conv-M.conv||x.per-M.per)):r(5,o=o.sort((M,x)=>x.per-M.per||x.conv-M.conv)),console.log(o)}let g,k=300+40*25,T,L;const A=S=>f(S),H=S=>w(S);function Q(){g=this.offsetWidth,r(1,g)}return e.$$set=S=>{"data"in S&&r(11,i=S.data),"cities"in S&&r(12,h=S.cities)},e.$$.update=()=>{e.$$.dirty&2048&&r(14,n=vt(i,S=>S.GEO,S=>S.Type)),e.$$.dirty&16384&&r(13,l=Array.from(n,([S,M])=>({GEO:S,sums:Array.from(M,([x,z])=>({Type:x,sumValue:bt(z,q=>q.VALUE)}))}))),e.$$.dirty&12288&&r(13,l=l.filter(S=>h.slice(1).includes(S.GEO))),e.$$.dirty&8192&&r(5,o=l.map(S=>{const M=S.sums.filter(fe=>fe.Type!=="new").reduce((fe,I)=>fe+I.sumValue,0),x=S.sums.reduce((fe,I)=>fe+I.sumValue,0),z=x!==0?M/x:0;let q;return z<.05?q="#F1C500":z<.1?q="#ce6c35":q="#ab1269",{GEO:S.GEO,conv:M,per:z,colour:q}}).sort((S,M)=>M.conv-S.conv)),e.$$.dirty&3&&(c==="Log Scale"?(r(4,L=wn().domain([100,65e3]).range([0,g])),r(3,T=[500,1e3,5e3,1e4,5e4])):(r(4,L=pt().domain([1,42e3]).range([0,g])),r(3,T=[1e4,2e4,3e4,4e4])))},[c,g,u,T,L,o,s,f,v,w,k,i,h,l,n,A,H,Q]}class yl extends ut{constructor(t){super(),ct(this,t,_l,dl,st,{data:11,cities:12})}}function Xt(e,t,r){const n=e.slice();return n[7]=t[r],n}function pl(e,t,r){const n=e.slice();return n[10]=t[r],n[12]=r,n}function vl(e,t,r){const n=e.slice();return n[13]=t[r],n}function Kt(e,t,r){const n=e.slice();return n[16]=t[r],n}function en(e,t,r){const n=e.slice();return n[10]=t[r],n}function tn(e,t,r){const n=e.slice();return n[21]=t[r],n}function nn(e){let t=(e[4]=pt().domain([0,e[16].mean*2.25]).range([115,25]))+"",r,n,l,o=G(e[16].sums),i=[];for(let s=0;s<o.length;s+=1)i[s]=rn(tn(e,o,s));let h=G(["2019","2020","2021","2022","2023"]),c=[];for(let s=0;s<5;s+=1)c[s]=ln(en(e,h,s));return{c(){r=ne(t);for(let s=0;s<i.length;s+=1)i[s].c();n=le();for(let s=0;s<5;s+=1)c[s].c();l=le()},l(s){r=re(s,t);for(let f=0;f<i.length;f+=1)i[f].l(s);n=le();for(let f=0;f<5;f+=1)c[f].l(s);l=le()},m(s,f){D(s,r,f);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(s,f);D(s,n,f);for(let u=0;u<5;u+=1)c[u]&&c[u].m(s,f);D(s,l,f)},p(s,f){if(f&2&&t!==(t=(s[4]=pt().domain([0,s[16].mean*2.25]).range([115,25]))+"")&&Fe(r,t),f&22){o=G(s[16].sums);let u;for(u=0;u<o.length;u+=1){const v=tn(s,o,u);i[u]?i[u].p(v,f):(i[u]=rn(v),i[u].c(),i[u].m(n.parentNode,n))}for(;u<i.length;u+=1)i[u].d(1);i.length=o.length}if(f&30){h=G(["2019","2020","2021","2022","2023"]);let u;for(u=0;u<5;u+=1){const v=en(s,h,u);c[u]?c[u].p(v,f):(c[u]=ln(v),c[u].c(),c[u].m(l.parentNode,l))}for(;u<5;u+=1)c[u].d(1)}},d(s){s&&(d(r),d(n),d(l)),_e(i,s),_e(c,s)}}}function rn(e){let t,r,n,l;return{c(){t=V("line"),this.h()},l(o){t=W(o,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),U(t).forEach(d),this.h()},h(){a(t,"x1",r=e[2](e[21].date)),a(t,"y1",n=e[4](e[21].sumValue)),a(t,"x2",l=e[2](e[21].date)),a(t,"y2",115),ge(t,"stroke","#F1C500"),ge(t,"stroke-width","3"),ge(t,"opacity","0.42")},m(o,i){D(o,t,i)},p(o,i){i&6&&r!==(r=o[2](o[21].date))&&a(t,"x1",r),i&2&&n!==(n=o[4](o[21].sumValue))&&a(t,"y1",n),i&6&&l!==(l=o[2](o[21].date))&&a(t,"x2",l)},d(o){o&&d(t)}}}function bl(e){let t,r,n,l,o=Math.round(e[16].yearlyData[e[10]].sum)+"",i,h;return{c(){t=V("line"),l=V("text"),i=ne(o),this.h()},l(c){t=W(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),U(t).forEach(d),l=W(c,"text",{x:!0,y:!0,"text-anchor":!0,id:!0,"font-size":!0,class:!0});var s=U(l);i=re(s,o),s.forEach(d),this.h()},h(){a(t,"x1",r=e[2](e[3](e[10]+"-01"))),a(t,"y1","35"),a(t,"x2",n=e[2](e[3](e[10]+"-12"))),a(t,"y2","35"),ge(t,"stroke","#ab1269"),ge(t,"stroke-width","2"),a(l,"x",h=e[2](e[3](e[10]+"-01"))+27.6/2),a(l,"y","33"),a(l,"text-anchor","middle"),a(l,"id","avgLabel"),a(l,"font-size","12"),a(l,"class","svelte-1czd5nw")},m(c,s){D(c,t,s),D(c,l,s),b(l,i)},p(c,s){s&4&&r!==(r=c[2](c[3](c[10]+"-01")))&&a(t,"x1",r),s&4&&n!==(n=c[2](c[3](c[10]+"-12")))&&a(t,"x2",n),s&2&&o!==(o=Math.round(c[16].yearlyData[c[10]].sum)+"")&&Fe(i,o),s&4&&h!==(h=c[2](c[3](c[10]+"-01"))+27.6/2)&&a(l,"x",h)},d(c){c&&(d(t),d(l))}}}function wl(e){let t,r,n,l,o,i,h=Math.round(e[16].yearlyData[e[10]].sum)+"",c,s,f;return{c(){t=V("line"),i=V("text"),c=ne(h),this.h()},l(u){t=W(u,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),U(t).forEach(d),i=W(u,"text",{x:!0,y:!0,"text-anchor":!0,id:!0,"font-size":!0,class:!0});var v=U(i);c=re(v,h),v.forEach(d),this.h()},h(){a(t,"x1",r=e[2](e[3](e[10]+"-01"))),a(t,"y1",n=e[4](e[16].yearlyData[e[10]].sum/e[16].yearlyData[e[10]].count)),a(t,"x2",l=e[2](e[3](e[10]+"-12"))),a(t,"y2",o=e[4](e[16].yearlyData[e[10]].sum/e[16].yearlyData[e[10]].count)),ge(t,"stroke","#ab1269"),ge(t,"stroke-width","2"),a(i,"x",s=e[2](e[3](e[10]+"-01"))+27.6/2),a(i,"y",f=e[4](e[16].yearlyData[e[10]].sum/e[16].yearlyData[e[10]].count)-2),a(i,"text-anchor","middle"),a(i,"id","avgLabel"),a(i,"font-size","12"),a(i,"class","svelte-1czd5nw")},m(u,v){D(u,t,v),D(u,i,v),b(i,c)},p(u,v){v&4&&r!==(r=u[2](u[3](u[10]+"-01")))&&a(t,"x1",r),v&2&&n!==(n=u[4](u[16].yearlyData[u[10]].sum/u[16].yearlyData[u[10]].count))&&a(t,"y1",n),v&4&&l!==(l=u[2](u[3](u[10]+"-12")))&&a(t,"x2",l),v&2&&o!==(o=u[4](u[16].yearlyData[u[10]].sum/u[16].yearlyData[u[10]].count))&&a(t,"y2",o),v&2&&h!==(h=Math.round(u[16].yearlyData[u[10]].sum)+"")&&Fe(c,h),v&4&&s!==(s=u[2](u[3](u[10]+"-01"))+27.6/2)&&a(i,"x",s),v&2&&f!==(f=u[4](u[16].yearlyData[u[10]].sum/u[16].yearlyData[u[10]].count)-2)&&a(i,"y",f)},d(u){u&&(d(t),d(i))}}}function ln(e){let t,r;function n(i,h){return h&2&&(t=null),t==null&&(t=i[4](i[16].yearlyData[i[10]].sum/i[16].yearlyData[i[10]].count)>35),t?wl:bl}let l=n(e,-1),o=l(e);return{c(){o.c(),r=le()},l(i){o.l(i),r=le()},m(i,h){o.m(i,h),D(i,r,h)},p(i,h){l===(l=n(i,h))&&o?o.p(i,h):(o.d(1),o=l(i),o&&(o.c(),o.m(r.parentNode,r)))},d(i){i&&d(r),o.d(i)}}}function on(e){let t,r=e[7]===e[16].GEO&&nn(e);return{c(){r&&r.c(),t=le()},l(n){r&&r.l(n),t=le()},m(n,l){r&&r.m(n,l),D(n,t,l)},p(n,l){n[7]===n[16].GEO?r?r.p(n,l):(r=nn(n),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(n){n&&d(t),r&&r.d(n)}}}function Tl(e){let t;return{c(){t=V("line"),this.h()},l(r){t=W(r,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),U(t).forEach(d),this.h()},h(){a(t,"x1",6+e[13]*27.6),a(t,"y1","115"),a(t,"x2",6+e[13]*27.6),a(t,"y2","120"),ge(t,"stroke","#1470ad"),ge(t,"stroke-width","1")},m(r,n){D(r,t,n)},p:xe,d(r){r&&d(t)}}}function Ml(e){let t,r;return{c(){t=V("text"),r=ne(e[10]),this.h()},l(n){t=W(n,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var l=U(t);r=re(l,e[10]),l.forEach(d),this.h()},h(){a(t,"x",20+e[12]*27.6),a(t,"y","127"),a(t,"id","cityLabel"),a(t,"text-anchor","middle"),a(t,"font-size","15"),a(t,"class","svelte-1czd5nw")},m(n,l){D(n,t,l),b(t,r)},p:xe,d(n){n&&d(t)}}}function an(e){let t,r,n,l=e[7].split(",")[0]+"",o,i,h,c=G(e[1]),s=[];for(let g=0;g<c.length;g+=1)s[g]=on(Kt(e,c,g));let f=G([0,1,2,3,4,5]),u=[];for(let g=0;g<6;g+=1)u[g]=Tl(vl(e,f,g));let v=G([19,20,21,22,23]),w=[];for(let g=0;g<5;g+=1)w[g]=Ml(pl(e,v,g));return{c(){t=E("div"),r=V("svg");for(let g=0;g<s.length;g+=1)s[g].c();n=V("text"),o=ne(l);for(let g=0;g<6;g+=1)u[g].c();i=le();for(let g=0;g<5;g+=1)w[g].c();h=B(),this.h()},l(g){t=F(g,"DIV",{class:!0});var k=U(t);r=W(k,"svg",{height:!0,width:!0,id:!0});var T=U(r);for(let A=0;A<s.length;A+=1)s[A].l(T);n=W(T,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var L=U(n);o=re(L,l),L.forEach(d);for(let A=0;A<6;A+=1)u[A].l(T);i=le();for(let A=0;A<5;A+=1)w[A].l(T);T.forEach(d),h=P(k),k.forEach(d),this.h()},h(){a(n,"x","5"),a(n,"y",20),a(n,"id","cityLabel"),a(n,"text-anchor","start"),a(n,"font-size","15"),a(n,"class","svelte-1czd5nw"),a(r,"height",145),a(r,"width",145),a(r,"id","svgChart"),a(t,"class","chart svelte-1czd5nw")},m(g,k){D(g,t,k),b(t,r);for(let T=0;T<s.length;T+=1)s[T]&&s[T].m(r,null);b(r,n),b(n,o);for(let T=0;T<6;T+=1)u[T]&&u[T].m(r,null);b(r,i);for(let T=0;T<5;T+=1)w[T]&&w[T].m(r,null);b(t,h)},p(g,k){if(k&31){c=G(g[1]);let T;for(T=0;T<c.length;T+=1){const L=Kt(g,c,T);s[T]?s[T].p(L,k):(s[T]=on(L),s[T].c(),s[T].m(r,n))}for(;T<s.length;T+=1)s[T].d(1);s.length=c.length}k&1&&l!==(l=g[7].split(",")[0]+"")&&Fe(o,l)},d(g){g&&d(t),_e(s,g),_e(u,g),_e(w,g)}}}function Cl(e){let t,r=G(e[0]),n=[];for(let l=0;l<r.length;l+=1)n[l]=an(Xt(e,r,l));return{c(){t=E("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){t=F(l,"DIV",{id:!0,class:!0});var o=U(t);for(let i=0;i<n.length;i+=1)n[i].l(o);o.forEach(d),this.h()},h(){a(t,"id","chartWrapper"),a(t,"class","svelte-1czd5nw")},m(l,o){D(l,t,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(t,null)},p(l,[o]){if(o&31){r=G(l[0]);let i;for(i=0;i<r.length;i+=1){const h=Xt(l,r,i);n[i]?n[i].p(h,o):(n[i]=an(h),n[i].c(),n[i].m(t,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},i:xe,o:xe,d(l){l&&d(t),_e(n,l)}}}function kl(e,t,r){let n,l,o,{data:i}=t,{cities:h}=t;const c=Sn("%Y-%m");let s;return e.$$set=f=>{"data"in f&&r(5,i=f.data),"cities"in f&&r(0,h=f.cities)},e.$$.update=()=>{e.$$.dirty&32&&r(6,n=vt(i.filter(f=>!f.Type.includes("new")),f=>f.GEO,f=>f.REF_DATE)),e.$$.dirty&64&&r(1,l=Array.from(n,([f,u])=>({GEO:f,sums:Array.from(u,([v,w])=>({date:v,sumValue:bt(w,g=>g.VALUE)}))}))),e.$$.dirty&3&&r(1,l=l.filter(f=>h.includes(f.GEO))),e.$$.dirty&2&&l.forEach(f=>{f.sums.forEach(u=>{u.date=c(u.date)}),f.maxValue=Math.max(...f.sums.map(u=>u.sumValue)),f.mean=Bn(f.sums.map(u=>u.sumValue))}),e.$$.dirty&2&&l.forEach(f=>{const u={};f.sums.forEach(v=>{const g=new Date(v.date).getUTCFullYear();u[g]||(u[g]={sum:0,count:0}),u[g].sum+=v.sumValue,u[g].count++}),f.yearlyData=u})},r(2,o=ml().domain([c("2019-01"),c("2023-12")]).range([6,144])),[h,l,o,c,s,i,n]}class xl extends ut{constructor(t){super(),ct(this,t,kl,Cl,st,{data:5,cities:0})}}function sn(e,t,r){const n=e.slice();return n[5]=t[r],n}function un(e,t,r){const n=e.slice();return n[8]=t[r],n}function cn(e,t,r){const n=e.slice();return n[11]=t[r],n[13]=r,n}function fn(e,t,r){const n=e.slice();return n[14]=t[r],n[16]=r,n}function hn(e){let t,r=G([0,1,2,3,4,5,6,7,8,9]),n=[];for(let l=0;l<10;l+=1)n[l]=gn(cn(e,r,l));return{c(){for(let l=0;l<10;l+=1)n[l].c();t=le()},l(l){for(let o=0;o<10;o+=1)n[o].l(l);t=le()},m(l,o){for(let i=0;i<10;i+=1)n[i]&&n[i].m(l,o);D(l,t,o)},p(l,o){if(o&2){r=G([0,1,2,3,4,5,6,7,8,9]);let i;for(i=0;i<10;i+=1){const h=cn(l,r,i);n[i]?n[i].p(h,o):(n[i]=gn(h),n[i].c(),n[i].m(t.parentNode,t))}for(;i<10;i+=1)n[i].d(1)}},d(l){l&&d(t),_e(n,l)}}}function Dl(e){let t;return{c(){t=V("rect"),this.h()},l(r){t=W(r,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),U(t).forEach(d),this.h()},h(){a(t,"x",5+$e*e[14]),a(t,"y",25+$e*e[11]),a(t,"width",Ge),a(t,"height",Ge),a(t,"fill","#ce6c35")},m(r,n){D(r,t,n)},p:xe,d(r){r&&d(t)}}}function Sl(e){let t;return{c(){t=V("rect"),this.h()},l(r){t=W(r,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),U(t).forEach(d),this.h()},h(){a(t,"x",5+$e*e[14]),a(t,"y",25+$e*e[11]),a(t,"width",Ge),a(t,"height",Ge),a(t,"fill","#F1C500")},m(r,n){D(r,t,n)},p:xe,d(r){r&&d(t)}}}function Ul(e){let t;return{c(){t=V("rect"),this.h()},l(r){t=W(r,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),U(t).forEach(d),this.h()},h(){a(t,"x",5+$e*e[14]),a(t,"y",25+$e*e[11]),a(t,"width",Ge),a(t,"height",Ge),a(t,"fill","#3597CE")},m(r,n){D(r,t,n)},p:xe,d(r){r&&d(t)}}}function mn(e){let t;function r(o,i){return o[16]+o[13]*10<o[8].PerNtoR?Ul:o[16]+o[13]*10<o[8].PerNtoR+o[8].PerStoM?Sl:Dl}let n=r(e),l=n(e);return{c(){l.c(),t=le()},l(o){l.l(o),t=le()},m(o,i){l.m(o,i),D(o,t,i)},p(o,i){n===(n=r(o))&&l?l.p(o,i):(l.d(1),l=n(o),l&&(l.c(),l.m(t.parentNode,t)))},d(o){o&&d(t),l.d(o)}}}function gn(e){let t,r=G([0,1,2,3,4,5,6,7,8,9]),n=[];for(let l=0;l<10;l+=1)n[l]=mn(fn(e,r,l));return{c(){for(let l=0;l<10;l+=1)n[l].c();t=le()},l(l){for(let o=0;o<10;o+=1)n[o].l(l);t=le()},m(l,o){for(let i=0;i<10;i+=1)n[i]&&n[i].m(l,o);D(l,t,o)},p(l,o){if(o&2){r=G([0,1,2,3,4,5,6,7,8,9]);let i;for(i=0;i<10;i+=1){const h=fn(l,r,i);n[i]?n[i].p(h,o):(n[i]=mn(h),n[i].c(),n[i].m(t.parentNode,t))}for(;i<10;i+=1)n[i].d(1)}},d(l){l&&d(t),_e(n,l)}}}function dn(e){let t,r=e[5]===e[8].GEO&&hn(e);return{c(){r&&r.c(),t=le()},l(n){r&&r.l(n),t=le()},m(n,l){r&&r.m(n,l),D(n,t,l)},p(n,l){n[5]===n[8].GEO?r?r.p(n,l):(r=hn(n),r.c(),r.m(t.parentNode,t)):r&&(r.d(1),r=null)},d(n){n&&d(t),r&&r.d(n)}}}function _n(e){let t,r,n,l=e[5].split(",")[0]+"",o,i,h=G(e[1]),c=[];for(let s=0;s<h.length;s+=1)c[s]=dn(un(e,h,s));return{c(){t=E("div"),r=V("svg"),n=V("text"),o=ne(l);for(let s=0;s<c.length;s+=1)c[s].c();i=B(),this.h()},l(s){t=F(s,"DIV",{class:!0});var f=U(t);r=W(f,"svg",{height:!0,width:!0,id:!0});var u=U(r);n=W(u,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var v=U(n);o=re(v,l),v.forEach(d);for(let w=0;w<c.length;w+=1)c[w].l(u);u.forEach(d),i=P(f),f.forEach(d),this.h()},h(){a(n,"x","5"),a(n,"y",20),a(n,"id","cityLabel"),a(n,"text-anchor","start"),a(n,"font-size","15"),a(n,"class","svelte-9wop4q"),a(r,"height",145),a(r,"width",126),a(r,"id","svgChart"),a(t,"class","chart svelte-9wop4q")},m(s,f){D(s,t,f),b(t,r),b(r,n),b(n,o);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(r,null);b(t,i)},p(s,f){if(f&1&&l!==(l=s[5].split(",")[0]+"")&&Fe(o,l),f&3){h=G(s[1]);let u;for(u=0;u<h.length;u+=1){const v=un(s,h,u);c[u]?c[u].p(v,f):(c[u]=dn(v),c[u].c(),c[u].m(r,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=h.length}},d(s){s&&d(t),_e(c,s)}}}function El(e){let t,r=G(e[0]),n=[];for(let l=0;l<r.length;l+=1)n[l]=_n(sn(e,r,l));return{c(){t=E("div");for(let l=0;l<n.length;l+=1)n[l].c();this.h()},l(l){t=F(l,"DIV",{id:!0,class:!0});var o=U(t);for(let i=0;i<n.length;i+=1)n[i].l(o);o.forEach(d),this.h()},h(){a(t,"id","chartWrapper"),a(t,"class","svelte-9wop4q")},m(l,o){D(l,t,o);for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(t,null)},p(l,[o]){if(o&3){r=G(l[0]);let i;for(i=0;i<r.length;i+=1){const h=sn(l,r,i);n[i]?n[i].p(h,o):(n[i]=_n(h),n[i].c(),n[i].m(t,null))}for(;i<n.length;i+=1)n[i].d(1);n.length=r.length}},i:xe,o:xe,d(l){l&&d(t),_e(n,l)}}}let Ge=9,$e=12;function Fl(e){const t=e.reduce((l,o)=>l+o,0),r=e.map(l=>Math.round(l)),n=Math.floor(t)-r.reduce((l,o)=>l+o,0);for(let l=0;l<n;l++)if(e[l]!==0){r[l]++;break}return r}function Ll(e,t,r){let n,l,o,{data:i}=t,{cities:h}=t;return e.$$set=c=>{"data"in c&&r(2,i=c.data),"cities"in c&&r(0,h=c.cities)},e.$$.update=()=>{e.$$.dirty&4&&r(4,n=vt(i,c=>c.GEO,c=>c.Type)),e.$$.dirty&16&&r(3,l=Array.from(n,([c,s])=>({GEO:c,sums:Array.from(s,([f,u])=>({Type:f,sumValue:bt(u,v=>v.VALUE)}))}))),e.$$.dirty&9&&r(3,l=l.filter(c=>h.includes(c.GEO))),e.$$.dirty&8&&r(1,o=l.map(c=>{const s=c.sums.filter(w=>w.Type!=="new").reduce((w,g)=>w+g.sumValue,0);let f=Math.round(100*c.sums.filter(w=>w.Type==="m-to-m")[0].sumValue/s),u=Math.round(100*c.sums.filter(w=>w.Type==="s-to-m")[0].sumValue/s),v=Math.round(100*c.sums.filter(w=>w.Type==="n-to-r")[0].sumValue/s);return[f,u,v]=Fl([f,u,v]),{GEO:c.GEO,PerMtoM:f,PerStoM:u,PerNtoR:v}})),e.$$.dirty&2&&console.log(o)},[h,o,i,l,n]}class Ol extends ut{constructor(t){super(),ct(this,t,Ll,El,st,{data:2,cities:0})}}function Al(e){let t,r,n,l,o,i,h,c,s,f,u,v,w,g,k,T,L,A,H,Q,S='<div class="title"><h1>Tracking Residential Dwelling Conversions</h1> <h2>An Exploration of Canadian Building Permit Survey Data</h2> <h2></h2> <p><a href="https://jamaps.github.io" target="_blank">Jeff Allen</a> </p><p>July 2024</p></div>',M,x,z,q="<p>▼</p>",fe,I,ue,De='Many Canadian cities need more housing, both now and in the near future. While urban sprawl consumes green spaces and strains resources, the conversion and expansion of existing buildings offer a more sustainable path forward. Research in Canada has shown that <a href="https://imfg.org/research/doc/?doc_id=637" target="_blank">urban sprawl has far worse impacts on climate change than infill development</a>. Moreover, <a href="https://csbe.civmin.utoronto.ca/wp-content/uploads/2023/11/khr_Saxe_FIG2023.pdf" target="_blank">maintaining existing building stock</a> to help construct new units can reduce emissions related to procuring and transporting new building material.',de,ye,he="There are a variety of building conversions: altering a single-family home to create additional dwelling units (a basement apartment for example); a duplex expanding into a triplex or fourplex; or converting a previously non-residential building into residential units.",ie,pe,Ae="On this page, we chart how different Canadian urban regions are doing in terms of creating new residential dwelling units from building conversions, over the five year period of 2019 to 2023.",be,R,Ce='The data are sourced from Statistics Canada&#39;s <a href="https://www23.statcan.gc.ca/imdb/p2SV.pl?Function=getSurvey&amp;Id=418552&amp;" target="_blank">Building Permit Survey</a>. This survey tracks attributes of building permits issued in Census Metropolitan Areas (CMA) on a monthly basis. The survey includes the number of new dwelling units to be created from building conversions, based on building permits issued in each month. The survey also has categories for three types of conversions (a. non-residential to residential, b. single dwelling to multiple dwellings, and c. multiple to multiple).',j,me,K="Overall across Canada there were <b>104,425</b> new dwelling units being created via conversions based on building permits issued in the five-year period from 01/2019 to 12/2023. This accounts for <b>7.9%</b> of all new residential dwelling units. Below we chart how this varies by CMA, trends over time, as well as different types of building conversions.",we,J,y,_,m,C,p=`<h3>New dwellings from building conversions, 01/2019 to 12/2023</h3> <p style="margin-top: -20px; font-size: 16px;">(based on issued building permits)</p> <p style="font-size: 15px"><svg height="15" width="28"><text x="14" y="11" text-anchor="middle" font-size="12" style="fill: #ab1269;">100</text><line x1="0" y1="14" x2="28" y2="14" style="stroke: #ab1269; stroke-width: 3;"></line></svg>
				Yearly totals
				<svg height="25" width="25"><line x1="5" y1="20" x2="5" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line><line x1="10" y1="15" x2="10" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line><line x1="15" y1="5" x2="15" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line><line x1="20" y1="10" x2="20" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line></svg>
				Monthly trends (scaled)</p>`,ee,O,te,Z,ve='<h3>Proportion of new dwellings by type of building conversion</h3> <p style="margin-top: -20px; font-size: 16px;">(based on issued building permits)</p> <br/> <div style="margin-top: -15px"><svg height="25" width="300"><text x="0" y="12" id="years" text-anchor="start" font-size="16" class="svelte-143n11e">01/2019 to 12/2023 (5 years total)</text></svg></div> <p style="font-size: 15px; margin-bottom: -25px"><svg height="100" width="400"><text x="0" y="12" text-anchor="start" font-size="16" style="fill: #1470ad;">One square = 1% of new dwellings from conversions</text><rect x="0" y="27" width="9" height="9" fill="#3597CE"></rect><text x="15" y="37" text-anchor="start" font-size="16" style="fill: #1470ad;">Non-residential to residential</text><rect x="0" y="52" width="9" height="9" fill="#F1C500"></rect><text x="15" y="62" text-anchor="start" font-size="16" style="fill: #1470ad;">Single dwelling to multiple dwellings</text><rect x="0" y="77" width="9" height="9" fill="#ce6c35"></rect><text x="15" y="87" text-anchor="start" font-size="16" style="fill: #1470ad;">Multiple dwellings to multiple dwellings</text></svg></p>',Se,ke,He,X,xt='<p>Code for this page is hosted on a <a href="https://github.com/schoolofcities/gentle-density" target="_blank">GitHub repository</a>. The subset of Building Permit Survey data shown on these charts can be accessed <a href="https://raw.githubusercontent.com/schoolofcities/gentle-density/main/static/conversions-canada-2018-to-2024.csv" target="_blank">as a .csv file by clicking here</a>. The full dataset, including many other types of building permits, can be queried and downloaded from <a href="https://www150.statcan.gc.ca/t1/tbl1/en/tv.action?pid=3410028501" target="_blank">Statistics Canada</a>.</p>',ht,Ye,rt;return L=new An({}),_=new yl({props:{data:e[0],cities:e[1]}}),O=new xl({props:{data:e[0],cities:e[1]}}),ke=new Ol({props:{data:e[0],cities:e[1]}}),Ye=new Hn({props:{currentPage:"canadian-residential-conversions"}}),{c(){t=E("meta"),r=E("meta"),n=E("meta"),l=E("meta"),o=E("meta"),i=E("meta"),h=E("meta"),c=E("meta"),s=E("meta"),f=E("meta"),u=E("meta"),v=E("meta"),w=E("meta"),g=E("meta"),k=E("meta"),T=B(),Qe(L.$$.fragment),A=B(),H=E("main"),Q=E("div"),Q.innerHTML=S,M=B(),x=E("div"),z=E("div"),z.innerHTML=q,fe=B(),I=E("div"),ue=E("p"),ue.innerHTML=De,de=B(),ye=E("p"),ye.textContent=he,ie=B(),pe=E("p"),pe.textContent=Ae,be=B(),R=E("p"),R.innerHTML=Ce,j=B(),me=E("p"),me.innerHTML=K,we=B(),J=E("br"),y=B(),Qe(_.$$.fragment),m=B(),C=E("div"),C.innerHTML=p,ee=B(),Qe(O.$$.fragment),te=B(),Z=E("div"),Z.innerHTML=ve,Se=B(),Qe(ke.$$.fragment),He=B(),X=E("div"),X.innerHTML=xt,ht=B(),Qe(Ye.$$.fragment),this.h()},l(N){const $=Ln("svelte-iwu35y",document.head);t=F($,"META",{name:!0,content:!0}),r=F($,"META",{name:!0,content:!0}),n=F($,"META",{name:!0,content:!0}),l=F($,"META",{property:!0,content:!0}),o=F($,"META",{property:!0,content:!0}),i=F($,"META",{property:!0,content:!0}),h=F($,"META",{property:!0,content:!0}),c=F($,"META",{property:!0,content:!0}),s=F($,"META",{property:!0,content:!0}),f=F($,"META",{name:!0,content:!0}),u=F($,"META",{name:!0,content:!0}),v=F($,"META",{name:!0,content:!0}),w=F($,"META",{name:!0,content:!0}),g=F($,"META",{name:!0,content:!0}),k=F($,"META",{name:!0,content:!0}),$.forEach(d),T=P(N),Ze(L.$$.fragment,N),A=P(N),H=F(N,"MAIN",{});var ze=U(H);Q=F(ze,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),Te(Q)!=="svelte-1b4pu1x"&&(Q.innerHTML=S),M=P(ze),x=F(ze,"DIV",{class:!0});var oe=U(x);z=F(oe,"DIV",{class:!0,"data-svelte-h":!0}),Te(z)!=="svelte-1s98lsq"&&(z.innerHTML=q),fe=P(oe),I=F(oe,"DIV",{class:!0});var ce=U(I);ue=F(ce,"P",{"data-svelte-h":!0}),Te(ue)!=="svelte-19t3y5t"&&(ue.innerHTML=De),de=P(ce),ye=F(ce,"P",{"data-svelte-h":!0}),Te(ye)!=="svelte-9ij9lg"&&(ye.textContent=he),ie=P(ce),pe=F(ce,"P",{"data-svelte-h":!0}),Te(pe)!=="svelte-18isnzl"&&(pe.textContent=Ae),be=P(ce),R=F(ce,"P",{"data-svelte-h":!0}),Te(R)!=="svelte-dmefue"&&(R.innerHTML=Ce),j=P(ce),me=F(ce,"P",{"data-svelte-h":!0}),Te(me)!=="svelte-1iltx6c"&&(me.innerHTML=K),we=P(ce),J=F(ce,"BR",{}),y=P(ce),Ze(_.$$.fragment,ce),ce.forEach(d),m=P(oe),C=F(oe,"DIV",{class:!0,"data-svelte-h":!0}),Te(C)!=="svelte-15cjwu8"&&(C.innerHTML=p),ee=P(oe),Ze(O.$$.fragment,oe),te=P(oe),Z=F(oe,"DIV",{class:!0,"data-svelte-h":!0}),Te(Z)!=="svelte-n4cnel"&&(Z.innerHTML=ve),Se=P(oe),Ze(ke.$$.fragment,oe),He=P(oe),X=F(oe,"DIV",{class:!0,"data-svelte-h":!0}),Te(X)!=="svelte-1i7mwzp"&&(X.innerHTML=xt),ht=P(oe),Ze(Ye.$$.fragment,oe),oe.forEach(d),ze.forEach(d),this.h()},h(){a(t,"name","viewport"),a(t,"content","width=device-width, initial-scale=1, minimum-scale=1"),document.title="Residential Conversions Across Canada | School of Cities",a(r,"name","description"),a(r,"content","Tracking residential dwelling conversions. An exploration of Canadian building permit survey data"),a(n,"name","author"),a(n,"content","Jeff Allen"),a(l,"property","og:title"),a(l,"content","Residential Conversions Across Canada"),a(o,"property","og:description"),a(o,"content","Tracking residential dwelling conversions. An exploration of Canadian building permit survey data"),a(i,"property","og:type"),a(i,"content","website"),a(h,"property","og:url"),a(h,"content","https://schoolofcities.github.io/gentle-density/canadian-residential-conversions"),a(c,"property","og:image"),a(c,"content","https://raw.githubusercontent.com/schoolofcities/gentle-density/main/static/web-card-conversions.png"),a(s,"property","og:locale"),a(s,"content","en_CA"),a(f,"name","twitter:card"),a(f,"content","summary_large_image"),a(u,"name","twitter:site"),a(u,"content","https://schoolofcities.github.io/gentle-density/canadian-residential-conversions"),a(v,"name","twitter:creator"),a(v,"content","@JeffAllenMaps"),a(w,"name","twitter:title"),a(w,"content","Residential Conversions Across Canada"),a(g,"name","twitter:description"),a(g,"content","Tracking residential dwelling conversions. An exploration of Canadian building permit survey data"),a(k,"name","twitter:image"),a(k,"content","https://raw.githubusercontent.com/schoolofcities/gentle-density/main/static/web-card-conversions.png"),a(Q,"class","blueprint"),ge(Q,"background-image","url('../gentle-density/blueprint-background-convert.png')"),a(z,"class","arrow"),a(I,"class","text"),a(C,"class","text"),a(Z,"class","text"),a(X,"class","text"),a(x,"class","background-white svelte-143n11e")},m(N,$){b(document.head,t),b(document.head,r),b(document.head,n),b(document.head,l),b(document.head,o),b(document.head,i),b(document.head,h),b(document.head,c),b(document.head,s),b(document.head,f),b(document.head,u),b(document.head,v),b(document.head,w),b(document.head,g),b(document.head,k),D(N,T,$),qe(L,N,$),D(N,A,$),D(N,H,$),b(H,Q),b(H,M),b(H,x),b(x,z),b(x,fe),b(x,I),b(I,ue),b(I,de),b(I,ye),b(I,ie),b(I,pe),b(I,be),b(I,R),b(I,j),b(I,me),b(I,we),b(I,J),b(I,y),qe(_,I,null),b(x,m),b(x,C),b(x,ee),qe(O,x,null),b(x,te),b(x,Z),b(x,Se),qe(ke,x,null),b(x,He),b(x,X),b(x,ht),qe(Ye,x,null),rt=!0},p(N,[$]){const ze={};$&1&&(ze.data=N[0]),_.$set(ze);const oe={};$&1&&(oe.data=N[0]),O.$set(oe);const ce={};$&1&&(ce.data=N[0]),ke.$set(ce)},i(N){rt||(je(L.$$.fragment,N),je(_.$$.fragment,N),je(O.$$.fragment,N),je(ke.$$.fragment,N),je(Ye.$$.fragment,N),rt=!0)},o(N){Je(L.$$.fragment,N),Je(_.$$.fragment,N),Je(O.$$.fragment,N),Je(ke.$$.fragment,N),Je(Ye.$$.fragment,N),rt=!1},d(N){N&&(d(T),d(A),d(H)),d(t),d(r),d(n),d(l),d(o),d(i),d(h),d(c),d(s),d(f),d(u),d(v),d(w),d(g),d(k),Xe(L,N),Xe(_),Xe(O),Xe(ke),Xe(Ye)}}}function Hl(e,t,r){let n=[];async function l(){try{const h=await(await fetch("conversions-canada-2018-to-2024.csv")).text();r(0,n=Nn(h)),r(0,n=n.filter(c=>!c.REF_DATE.includes("2024"))),r(0,n=n.filter(c=>!c.REF_DATE.includes("2018"))),n.forEach(c=>{c.VALUE=parseFloat(c.VALUE)})}catch(i){console.error("Error loading CSV data:",i)}}return On(()=>{l()}),[n,["All Canada","Abbotsford-Mission, British Columbia","Barrie, Ontario","Belleville-Quinte West, Ontario","Brantford, Ontario","Calgary, Alberta","Chilliwack, British Columbia","Edmonton, Alberta","Fredericton, New Brunswick","Greater Sudbury, Ontario","Guelph, Ontario","Halifax, Nova Scotia","Hamilton, Ontario","Kamloops, British Columbia","Kelowna, British Columbia","Kingston, Ontario","Kitchener-Cambridge-Waterloo, Ontario","Lethbridge, Alberta","London, Ontario","Moncton, New Brunswick","Montréal, Quebec","Nanaimo, British Columbia","Oshawa, Ontario","Ottawa-Gatineau, Ontario-Quebec","Québec, Quebec","Peterborough, Ontario","Regina, Saskatchewan","Saguenay, Quebec","Saint John, New Brunswick","Saskatoon, Saskatchewan","Sherbrooke, Quebec","St. Catharines-Niagara, Ontario","St. John's, Newfoundland and Labrador","Thunder Bay, Ontario","Toronto, Ontario","Trois-Rivières, Quebec","Vancouver, British Columbia","Victoria, British Columbia","Windsor, Ontario","Winnipeg, Manitoba"]]}class Rl extends ut{constructor(t){super(),ct(this,t,Hl,Al,st,{})}}export{Rl as component,Pl as universal};
