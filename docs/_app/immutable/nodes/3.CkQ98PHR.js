import{s as st,e as O,b as j,Q as B,t as ie,v as le,d as L,p as be,j as Q,R,f as E,h as ae,i as d,q as l,H as Vn,k as D,l as v,S as Wn,n as Te,r as _e,$ as it,T as Cn,y as pe,m as Ue,U as Nn,x as In}from"../chunks/scheduler.gD4sWA-X.js";import{S as ct,i as ft,b as je,d as Qe,m as Ze,t as qe,a as Je,e as Xe}from"../chunks/index.D8enV1Ia.js";import{e as Z,T as Bn}from"../chunks/styles.Ca1fFI27.js";import{R as Rn}from"../chunks/ReadMore.Ti7B4S2o.js";import{i as kn,g as Ct}from"../chunks/init.CzU-s_W1.js";import{s as kt}from"../chunks/sum.CB6J5KXz.js";import{t as Pn,c as Dn,a as At,f as $n,b as Gn,d as jn,e as Ot,g as Qn,l as Mt}from"../chunks/linear.BsfsxAUK.js";function Zn(e,t){let n=0,r=0;for(let o of e)o!=null&&(o=+o)>=o&&(++n,r+=o);if(n)return r/n}function Un(e,t){e=e.slice();var n=0,r=e.length-1,o=e[n],a=e[r],i;return a<o&&(i=n,n=r,r=i,i=o,o=a,a=i),e[n]=t.floor(o),e[r]=t.ceil(a),e}function Lt(e){return Math.log(e)}function Ht(e){return Math.exp(e)}function qn(e){return-Math.log(-e)}function Jn(e){return-Math.exp(-e)}function Xn(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Kn(e){return e===10?Xn:e===Math.E?Math.exp:t=>Math.pow(e,t)}function er(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Yt(e){return(t,n)=>-e(-t,n)}function tr(e){const t=e(Lt,Ht),n=t.domain;let r=10,o,a;function i(){return o=er(r),a=Kn(r),n()[0]<0?(o=Yt(o),a=Yt(a),e(qn,Jn)):e(Lt,Ht),t}return t.base=function(h){return arguments.length?(r=+h,i()):r},t.domain=function(h){return arguments.length?(n(h),i()):n()},t.ticks=h=>{const c=n();let s=c[0],f=c[c.length-1];const u=f<s;u&&([s,f]=[f,s]);let g=o(s),y=o(f),m,M;const T=h==null?10:+h;let F=[];if(!(r%1)&&y-g<T){if(g=Math.floor(g),y=Math.ceil(y),s>0){for(;g<=y;++g)for(m=1;m<r;++m)if(M=g<0?m/a(-g):m*a(g),!(M<s)){if(M>f)break;F.push(M)}}else for(;g<=y;++g)for(m=r-1;m>=1;--m)if(M=g>0?m/a(-g):m*a(g),!(M<s)){if(M>f)break;F.push(M)}F.length*2<T&&(F=At(s,f,T))}else F=At(g,y,Math.min(y-g,T)).map(a);return u?F.reverse():F},t.tickFormat=(h,c)=>{if(h==null&&(h=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=$n(c)).precision==null&&(c.trim=!0),c=Gn(c)),h===1/0)return c;const s=Math.max(1,r*h/t.ticks().length);return f=>{let u=f/a(Math.round(o(f)));return u*r<r-.5&&(u*=r),u<=s?c(f):""}},t.nice=()=>n(Un(n(),{floor:h=>a(Math.floor(o(h))),ceil:h=>a(Math.ceil(o(h)))})),t}function xn(){const e=tr(Pn()).domain([1,10]);return e.copy=()=>Dn(e,xn()).base(e.base()),kn.apply(e,arguments),e}const dt=new Date,_t=new Date;function se(e,t,n,r){function o(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return o.floor=a=>(e(a=new Date(+a)),a),o.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),o.round=a=>{const i=o(a),h=o.ceil(a);return a-i<h-a?i:h},o.offset=(a,i)=>(t(a=new Date(+a),i==null?1:Math.floor(i)),a),o.range=(a,i,h)=>{const c=[];if(a=o.ceil(a),h=h==null?1:Math.floor(h),!(a<i)||!(h>0))return c;let s;do c.push(s=new Date(+a)),t(a,h),e(a);while(s<a&&a<i);return c},o.filter=a=>se(i=>{if(i>=i)for(;e(i),!a(i);)i.setTime(i-1)},(i,h)=>{if(i>=i)if(h<0)for(;++h<=0;)for(;t(i,-1),!a(i););else for(;--h>=0;)for(;t(i,1),!a(i););}),n&&(o.count=(a,i)=>(dt.setTime(+a),_t.setTime(+i),e(dt),e(_t),Math.floor(n(dt,_t))),o.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?o.filter(r?i=>r(i)%a===0:i=>o.count(0,i)%a===0):o)),o}const at=se(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);at.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?se(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):at);at.range;const ke=1e3,ve=ke*60,De=ve*60,xe=De*24,Dt=xe*7,zt=xe*30,pt=xe*365,Be=se(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ke)},(e,t)=>(t-e)/ke,e=>e.getUTCSeconds());Be.range;const Ut=se(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ke)},(e,t)=>{e.setTime(+e+t*ve)},(e,t)=>(t-e)/ve,e=>e.getMinutes());Ut.range;const nr=se(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ve)},(e,t)=>(t-e)/ve,e=>e.getUTCMinutes());nr.range;const xt=se(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ke-e.getMinutes()*ve)},(e,t)=>{e.setTime(+e+t*De)},(e,t)=>(t-e)/De,e=>e.getHours());xt.range;const rr=se(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*De)},(e,t)=>(t-e)/De,e=>e.getUTCHours());rr.range;const rt=se(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ve)/xe,e=>e.getDate()-1);rt.range;const St=se(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xe,e=>e.getUTCDate()-1);St.range;const or=se(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xe,e=>Math.floor(e/xe));or.range;function Ve(e){return se(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ve)/Dt)}const ht=Ve(0),lt=Ve(1),ir=Ve(2),ar=Ve(3),Re=Ve(4),lr=Ve(5),ur=Ve(6);ht.range;lt.range;ir.range;ar.range;Re.range;lr.range;ur.range;function We(e){return se(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Dt)}const Sn=We(0),ut=We(1),sr=We(2),cr=We(3),Pe=We(4),fr=We(5),hr=We(6);Sn.range;ut.range;sr.range;cr.range;Pe.range;fr.range;hr.range;const Et=se(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Et.range;const mr=se(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mr.range;const Se=se(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Se.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:se(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Se.range;const ze=se(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ze.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:se(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ze.range;function gr(e,t,n,r,o,a){const i=[[Be,1,ke],[Be,5,5*ke],[Be,15,15*ke],[Be,30,30*ke],[a,1,ve],[a,5,5*ve],[a,15,15*ve],[a,30,30*ve],[o,1,De],[o,3,3*De],[o,6,6*De],[o,12,12*De],[r,1,xe],[r,2,2*xe],[n,1,Dt],[t,1,zt],[t,3,3*zt],[e,1,pt]];function h(s,f,u){const g=f<s;g&&([s,f]=[f,s]);const y=u&&typeof u.range=="function"?u:c(s,f,u),m=y?y.range(s,+f+1):[];return g?m.reverse():m}function c(s,f,u){const g=Math.abs(f-s)/u,y=jn(([,,T])=>T).right(i,g);if(y===i.length)return e.every(Ot(s/pt,f/pt,u));if(y===0)return at.every(Math.max(Ot(s,f,u),1));const[m,M]=i[g/i[y-1][2]<i[y][2]/g?y-1:y];return m.every(M)}return[h,c]}const[dr,_r]=gr(Se,Et,ht,rt,xt,Ut);function yt(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ke(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function pr(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,a=e.days,i=e.shortDays,h=e.months,c=e.shortMonths,s=et(o),f=tt(o),u=et(a),g=tt(a),y=et(i),m=tt(i),M=et(h),T=tt(h),F=et(c),I=tt(c),A={a:ye,A:G,b:we,B:X,c:null,d:Rt,e:Rt,f:Nr,g:qr,G:Xr,H:zr,I:Vr,j:Wr,L:En,m:Ir,M:Br,p:ge,q:te,Q:Gt,s:jt,S:Rr,u:Pr,U:$r,V:Gr,w:jr,W:Qr,x:null,X:null,y:Zr,Y:Jr,Z:Kr,"%":$t},V={a:p,A:H,b:w,B:q,c:null,d:Pt,e:Pt,f:ro,g:mo,G:_o,H:eo,I:to,j:no,L:An,m:oo,M:io,p:Fe,q:Ae,Q:Gt,s:jt,S:ao,u:lo,U:uo,V:so,w:co,W:fo,x:null,X:null,y:ho,Y:go,Z:po,"%":$t},U={a:he,A:W,b:K,B:Ce,c:Ee,d:It,e:It,f:Or,g:Nt,G:Wt,H:Bt,I:Bt,j:Sr,L:Ar,m:xr,M:Er,p:oe,q:Ur,Q:Hr,s:Yr,S:Fr,u:Tr,U:Mr,V:Cr,w:br,W:kr,x:me,X:ee,y:Nt,Y:Wt,Z:Dr,"%":Lr};A.x=C(n,A),A.X=C(r,A),A.c=C(t,A),V.x=C(n,V),V.X=C(r,V),V.c=C(t,V);function C(b,x){return function(S){var _=[],ne=-1,Y=0,re=b.length,z,Me,Ne;for(S instanceof Date||(S=new Date(+S));++ne<re;)b.charCodeAt(ne)===37&&(_.push(b.slice(Y,ne)),(Me=Vt[z=b.charAt(++ne)])!=null?z=b.charAt(++ne):Me=z==="e"?" ":"0",(Ne=x[z])&&(z=Ne(S,Me)),_.push(z),Y=ne+1);return _.push(b.slice(Y,ne)),_.join("")}}function k(b,x){return function(S){var _=Ke(1900,void 0,1),ne=P(_,b,S+="",0),Y,re;if(ne!=S.length)return null;if("Q"in _)return new Date(_.Q);if("s"in _)return new Date(_.s*1e3+("L"in _?_.L:0));if(x&&!("Z"in _)&&(_.Z=0),"p"in _&&(_.H=_.H%12+_.p*12),_.m===void 0&&(_.m="q"in _?_.q:0),"V"in _){if(_.V<1||_.V>53)return null;"w"in _||(_.w=1),"Z"in _?(Y=vt(Ke(_.y,0,1)),re=Y.getUTCDay(),Y=re>4||re===0?ut.ceil(Y):ut(Y),Y=St.offset(Y,(_.V-1)*7),_.y=Y.getUTCFullYear(),_.m=Y.getUTCMonth(),_.d=Y.getUTCDate()+(_.w+6)%7):(Y=yt(Ke(_.y,0,1)),re=Y.getDay(),Y=re>4||re===0?lt.ceil(Y):lt(Y),Y=rt.offset(Y,(_.V-1)*7),_.y=Y.getFullYear(),_.m=Y.getMonth(),_.d=Y.getDate()+(_.w+6)%7)}else("W"in _||"U"in _)&&("w"in _||(_.w="u"in _?_.u%7:"W"in _?1:0),re="Z"in _?vt(Ke(_.y,0,1)).getUTCDay():yt(Ke(_.y,0,1)).getDay(),_.m=0,_.d="W"in _?(_.w+6)%7+_.W*7-(re+5)%7:_.w+_.U*7-(re+6)%7);return"Z"in _?(_.H+=_.Z/100|0,_.M+=_.Z%100,vt(_)):yt(_)}}function P(b,x,S,_){for(var ne=0,Y=x.length,re=S.length,z,Me;ne<Y;){if(_>=re)return-1;if(z=x.charCodeAt(ne++),z===37){if(z=x.charAt(ne++),Me=U[z in Vt?x.charAt(ne++):z],!Me||(_=Me(b,S,_))<0)return-1}else if(z!=S.charCodeAt(_++))return-1}return _}function oe(b,x,S){var _=s.exec(x.slice(S));return _?(b.p=f.get(_[0].toLowerCase()),S+_[0].length):-1}function he(b,x,S){var _=y.exec(x.slice(S));return _?(b.w=m.get(_[0].toLowerCase()),S+_[0].length):-1}function W(b,x,S){var _=u.exec(x.slice(S));return _?(b.w=g.get(_[0].toLowerCase()),S+_[0].length):-1}function K(b,x,S){var _=F.exec(x.slice(S));return _?(b.m=I.get(_[0].toLowerCase()),S+_[0].length):-1}function Ce(b,x,S){var _=M.exec(x.slice(S));return _?(b.m=T.get(_[0].toLowerCase()),S+_[0].length):-1}function Ee(b,x,S){return P(b,t,x,S)}function me(b,x,S){return P(b,n,x,S)}function ee(b,x,S){return P(b,r,x,S)}function ye(b){return i[b.getDay()]}function G(b){return a[b.getDay()]}function we(b){return c[b.getMonth()]}function X(b){return h[b.getMonth()]}function ge(b){return o[+(b.getHours()>=12)]}function te(b){return 1+~~(b.getMonth()/3)}function p(b){return i[b.getUTCDay()]}function H(b){return a[b.getUTCDay()]}function w(b){return c[b.getUTCMonth()]}function q(b){return h[b.getUTCMonth()]}function Fe(b){return o[+(b.getUTCHours()>=12)]}function Ae(b){return 1+~~(b.getUTCMonth()/3)}return{format:function(b){var x=C(b+="",A);return x.toString=function(){return b},x},parse:function(b){var x=k(b+="",!1);return x.toString=function(){return b},x},utcFormat:function(b){var x=C(b+="",V);return x.toString=function(){return b},x},utcParse:function(b){var x=k(b+="",!0);return x.toString=function(){return b},x}}}var Vt={"-":"",_:" ",0:"0"},ce=/^\s*\d+/,yr=/^%/,vr=/[\\^$*+?|[\]().{}]/g;function N(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",a=o.length;return r+(a<n?new Array(n-a+1).join(t)+o:o)}function wr(e){return e.replace(vr,"\\$&")}function et(e){return new RegExp("^(?:"+e.map(wr).join("|")+")","i")}function tt(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function br(e,t,n){var r=ce.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function Tr(e,t,n){var r=ce.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function Mr(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Cr(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function kr(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Wt(e,t,n){var r=ce.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Nt(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Dr(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Ur(e,t,n){var r=ce.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function xr(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function It(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Sr(e,t,n){var r=ce.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Bt(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Er(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Fr(e,t,n){var r=ce.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Ar(e,t,n){var r=ce.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Or(e,t,n){var r=ce.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Lr(e,t,n){var r=yr.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Hr(e,t,n){var r=ce.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Yr(e,t,n){var r=ce.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Rt(e,t){return N(e.getDate(),t,2)}function zr(e,t){return N(e.getHours(),t,2)}function Vr(e,t){return N(e.getHours()%12||12,t,2)}function Wr(e,t){return N(1+rt.count(Se(e),e),t,3)}function En(e,t){return N(e.getMilliseconds(),t,3)}function Nr(e,t){return En(e,t)+"000"}function Ir(e,t){return N(e.getMonth()+1,t,2)}function Br(e,t){return N(e.getMinutes(),t,2)}function Rr(e,t){return N(e.getSeconds(),t,2)}function Pr(e){var t=e.getDay();return t===0?7:t}function $r(e,t){return N(ht.count(Se(e)-1,e),t,2)}function Fn(e){var t=e.getDay();return t>=4||t===0?Re(e):Re.ceil(e)}function Gr(e,t){return e=Fn(e),N(Re.count(Se(e),e)+(Se(e).getDay()===4),t,2)}function jr(e){return e.getDay()}function Qr(e,t){return N(lt.count(Se(e)-1,e),t,2)}function Zr(e,t){return N(e.getFullYear()%100,t,2)}function qr(e,t){return e=Fn(e),N(e.getFullYear()%100,t,2)}function Jr(e,t){return N(e.getFullYear()%1e4,t,4)}function Xr(e,t){var n=e.getDay();return e=n>=4||n===0?Re(e):Re.ceil(e),N(e.getFullYear()%1e4,t,4)}function Kr(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+N(t/60|0,"0",2)+N(t%60,"0",2)}function Pt(e,t){return N(e.getUTCDate(),t,2)}function eo(e,t){return N(e.getUTCHours(),t,2)}function to(e,t){return N(e.getUTCHours()%12||12,t,2)}function no(e,t){return N(1+St.count(ze(e),e),t,3)}function An(e,t){return N(e.getUTCMilliseconds(),t,3)}function ro(e,t){return An(e,t)+"000"}function oo(e,t){return N(e.getUTCMonth()+1,t,2)}function io(e,t){return N(e.getUTCMinutes(),t,2)}function ao(e,t){return N(e.getUTCSeconds(),t,2)}function lo(e){var t=e.getUTCDay();return t===0?7:t}function uo(e,t){return N(Sn.count(ze(e)-1,e),t,2)}function On(e){var t=e.getUTCDay();return t>=4||t===0?Pe(e):Pe.ceil(e)}function so(e,t){return e=On(e),N(Pe.count(ze(e),e)+(ze(e).getUTCDay()===4),t,2)}function co(e){return e.getUTCDay()}function fo(e,t){return N(ut.count(ze(e)-1,e),t,2)}function ho(e,t){return N(e.getUTCFullYear()%100,t,2)}function mo(e,t){return e=On(e),N(e.getUTCFullYear()%100,t,2)}function go(e,t){return N(e.getUTCFullYear()%1e4,t,4)}function _o(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Pe(e):Pe.ceil(e),N(e.getUTCFullYear()%1e4,t,4)}function po(){return"+0000"}function $t(){return"%"}function Gt(e){return+e}function jt(e){return Math.floor(+e/1e3)}var Ie,Ln,Hn;yo({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yo(e){return Ie=pr(e),Ln=Ie.format,Hn=Ie.parse,Ie.utcFormat,Ie.utcParse,Ie}function vo(e){return new Date(e)}function wo(e){return e instanceof Date?+e:+new Date(+e)}function Yn(e,t,n,r,o,a,i,h,c,s){var f=Qn(),u=f.invert,g=f.domain,y=s(".%L"),m=s(":%S"),M=s("%I:%M"),T=s("%I %p"),F=s("%a %d"),I=s("%b %d"),A=s("%B"),V=s("%Y");function U(C){return(c(C)<C?y:h(C)<C?m:i(C)<C?M:a(C)<C?T:r(C)<C?o(C)<C?F:I:n(C)<C?A:V)(C)}return f.invert=function(C){return new Date(u(C))},f.domain=function(C){return arguments.length?g(Array.from(C,wo)):g().map(vo)},f.ticks=function(C){var k=g();return e(k[0],k[k.length-1],C??10)},f.tickFormat=function(C,k){return k==null?U:s(k)},f.nice=function(C){var k=g();return(!C||typeof C.range!="function")&&(C=t(k[0],k[k.length-1],C??10)),C?g(Un(k,C)):f},f.copy=function(){return Dn(f,Yn(e,t,n,r,o,a,i,h,c,s))},f}function bo(){return kn.apply(Yn(dr,_r,Se,Et,ht,rt,xt,Ut,Be,Ln).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const To=!0,ri=Object.freeze(Object.defineProperty({__proto__:null,prerender:To},Symbol.toStringTag,{value:"Module"}));function Qt(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function Zt(e,t,n){const r=e.slice();return r[22]=t[n],r}function qt(e,t,n){const r=e.slice();return r[25]=t[n],r}function Jt(e,t,n){const r=e.slice();return r[25]=t[n],r}function Xt(e){let t,n=e[25]+"",r,o,a,i,h;function c(){return e[15](e[25])}return{c(){t=O("div"),r=ie(n),o=j(),this.h()},l(s){t=L(s,"DIV",{class:!0});var f=E(t);r=ae(f,n),o=Q(f),f.forEach(d),this.h()},h(){l(t,"class",a=it(e[25]===e[0]?"option-selected":"option-not-selected")+" svelte-19rgk4g")},m(s,f){D(s,t,f),v(t,r),v(t,o),i||(h=Cn(t,"click",c),i=!0)},p(s,f){e=s,f&1&&a!==(a=it(e[25]===e[0]?"option-selected":"option-not-selected")+" svelte-19rgk4g")&&l(t,"class",a)},d(s){s&&d(t),i=!1,h()}}}function Kt(e){let t,n=e[25]+"",r,o,a,i,h;function c(){return e[16](e[25])}return{c(){t=O("div"),r=ie(n),o=j(),this.h()},l(s){t=L(s,"DIV",{class:!0});var f=E(t);r=ae(f,n),o=Q(f),f.forEach(d),this.h()},h(){l(t,"class",a=it(e[25]===e[2]?"option-selected":"option-not-selected")+" svelte-19rgk4g")},m(s,f){D(s,t,f),v(t,r),v(t,o),i||(h=Cn(t,"click",c),i=!0)},p(s,f){e=s,f&4&&a!==(a=it(e[25]===e[2]?"option-selected":"option-not-selected")+" svelte-19rgk4g")&&l(t,"class",a)},d(s){s&&d(t),i=!1,h()}}}function en(e){let t,n,r,o,a=nn(e[22])+"",i,h;return{c(){t=B("line"),o=B("text"),i=ie(a),this.h()},l(c){t=R(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),E(t).forEach(d),o=R(c,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var s=E(o);i=ae(s,a),s.forEach(d),this.h()},h(){l(t,"x1",n=e[4](e[22])),l(t,"y1","25"),l(t,"x2",r=e[4](e[22])),l(t,"y2",e[10]),pe(t,"stroke","#8EB6DC"),pe(t,"stroke-width","1"),pe(t,"opacity","0.5"),l(o,"x",h=e[4](e[22])),l(o,"y","20"),l(o,"id","labelBar"),l(o,"text-anchor","middle"),l(o,"font-size","16"),l(o,"class","svelte-19rgk4g")},m(c,s){D(c,t,s),D(c,o,s),v(o,i)},p(c,s){s&24&&n!==(n=c[4](c[22]))&&l(t,"x1",n),s&24&&r!==(r=c[4](c[22]))&&l(t,"x2",r),s&8&&a!==(a=nn(c[22])+"")&&Ue(i,a),s&24&&h!==(h=c[4](c[22]))&&l(o,"x",h)},d(c){c&&(d(t),d(o))}}}function tn(e){let t,n=e[19].GEO.split(",")[0]+"",r,o,a=e[19].conv+"",i,h,c=Math.round(100*e[19].per)+"",s,f,u,g,y;return{c(){t=B("text"),r=ie(n),o=ie(": "),i=ie(a),h=ie(" ("),s=ie(c),f=ie("%)"),u=B("rect"),this.h()},l(m){t=R(m,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var M=E(t);r=ae(M,n),o=ae(M,": "),i=ae(M,a),h=ae(M," ("),s=ae(M,c),f=ae(M,"%)"),M.forEach(d),u=R(m,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),E(u).forEach(d),this.h()},h(){l(t,"x","0"),l(t,"y",e[21]*32+43),l(t,"id","labelBar"),l(t,"text-anchor","start"),l(t,"font-size","16"),l(t,"class","svelte-19rgk4g"),l(u,"id","bar"),l(u,"x",0),l(u,"y",e[21]*32+47),l(u,"height",8),l(u,"width",g=e[4](e[19].conv)),l(u,"fill",y=e[19].colour)},m(m,M){D(m,t,M),v(t,r),v(t,o),v(t,i),v(t,h),v(t,s),v(t,f),D(m,u,M)},p(m,M){M&32&&n!==(n=m[19].GEO.split(",")[0]+"")&&Ue(r,n),M&32&&a!==(a=m[19].conv+"")&&Ue(i,a),M&32&&c!==(c=Math.round(100*m[19].per)+"")&&Ue(s,c),M&48&&g!==(g=m[4](m[19].conv))&&l(u,"width",g),M&32&&y!==(y=m[19].colour)&&l(u,"fill",y)},d(m){m&&(d(t),d(u))}}}function Mo(e){let t,n="Total and percent of new dwellings from building conversions",r,o,a,i,h,c,s,f,u,g,y,m,M,T,F,I,A,V,U,C,k,P,oe,he,W,K,Ce,Ee,me=Z(e[6]),ee=[];for(let p=0;p<me.length;p+=1)ee[p]=Xt(Jt(e,me,p));let ye=Z(e[8]),G=[];for(let p=0;p<ye.length;p+=1)G[p]=Kt(qt(e,ye,p));let we=Z(e[3]),X=[];for(let p=0;p<we.length;p+=1)X[p]=en(Zt(e,we,p));let ge=Z(e[5]),te=[];for(let p=0;p<ge.length;p+=1)te[p]=tn(Qt(e,ge,p));return{c(){t=O("h3"),t.textContent=n,r=j(),o=B("svg"),a=B("text"),i=ie("01/2019 to 12/2023 (5 years total)"),h=j(),c=B("svg"),s=B("text"),f=ie("% of all new units from conversions"),u=B("rect"),g=B("rect"),y=B("rect"),m=B("text"),M=ie("5%"),T=B("text"),F=ie("10%"),I=j(),A=B("svg"),V=B("text"),U=ie("# of new units just from conversions"),C=j(),k=O("div");for(let p=0;p<ee.length;p+=1)ee[p].c();P=j(),oe=O("div");for(let p=0;p<G.length;p+=1)G[p].c();he=j(),W=O("div"),K=B("svg");for(let p=0;p<X.length;p+=1)X[p].c();Ce=le();for(let p=0;p<te.length;p+=1)te[p].c();this.h()},l(p){t=L(p,"H3",{"data-svelte-h":!0}),be(t)!=="svelte-n00m8l"&&(t.textContent=n),r=Q(p),o=R(p,"svg",{id:!0,height:!0,width:!0,class:!0});var H=E(o);a=R(H,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var w=E(a);i=ae(w,"01/2019 to 12/2023 (5 years total)"),w.forEach(d),H.forEach(d),h=Q(p),c=R(p,"svg",{id:!0,height:!0,width:!0,class:!0});var q=E(c);s=R(q,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var Fe=E(s);f=ae(Fe,"% of all new units from conversions"),Fe.forEach(d),u=R(q,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),E(u).forEach(d),g=R(q,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),E(g).forEach(d),y=R(q,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),E(y).forEach(d),m=R(q,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var Ae=E(m);M=ae(Ae,"5%"),Ae.forEach(d),T=R(q,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var b=E(T);F=ae(b,"10%"),b.forEach(d),q.forEach(d),I=Q(p),A=R(p,"svg",{id:!0,height:!0,width:!0,class:!0});var x=E(A);V=R(x,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var S=E(V);U=ae(S,"# of new units just from conversions"),S.forEach(d),x.forEach(d),C=Q(p),k=L(p,"DIV",{class:!0});var _=E(k);for(let z=0;z<ee.length;z+=1)ee[z].l(_);_.forEach(d),P=Q(p),oe=L(p,"DIV",{class:!0});var ne=E(oe);for(let z=0;z<G.length;z+=1)G[z].l(ne);ne.forEach(d),he=Q(p),W=L(p,"DIV",{class:!0});var Y=E(W);K=R(Y,"svg",{height:!0,width:!0,id:!0});var re=E(K);for(let z=0;z<X.length;z+=1)X[z].l(re);Ce=le();for(let z=0;z<te.length;z+=1)te[z].l(re);re.forEach(d),Y.forEach(d),this.h()},h(){l(a,"x","0"),l(a,"y","12"),l(a,"id","labelBar"),l(a,"text-anchor","start"),l(a,"font-size","16"),l(a,"class","svelte-19rgk4g"),l(o,"id","years"),l(o,"height","35"),l(o,"width",e[1]),l(o,"class","svelte-19rgk4g"),l(s,"x","0"),l(s,"y","12"),l(s,"id","labelBar"),l(s,"text-anchor","start"),l(s,"font-size","16"),l(s,"class","svelte-19rgk4g"),l(u,"id","legendBar"),l(u,"x",0),l(u,"y",22),l(u,"height",8),l(u,"width",99),l(u,"fill","#F1C500"),l(g,"id","legendBar"),l(g,"x",101),l(g,"y",22),l(g,"height",8),l(g,"width",99),l(g,"fill","#ce6c35"),l(y,"id","legendBar"),l(y,"x",202),l(y,"y",22),l(y,"height",8),l(y,"width",99),l(y,"fill","#ab1269"),l(m,"x","100"),l(m,"y","44"),l(m,"id","labelBar"),l(m,"text-anchor","middle"),l(m,"font-size","16"),l(m,"class","svelte-19rgk4g"),l(T,"x","200"),l(T,"y","44"),l(T,"id","labelBar"),l(T,"text-anchor","middle"),l(T,"font-size","16"),l(T,"class","svelte-19rgk4g"),l(c,"id","legend"),l(c,"height","50"),l(c,"width",e[1]),l(c,"class","svelte-19rgk4g"),l(V,"x","0"),l(V,"y","12"),l(V,"id","labelBar"),l(V,"text-anchor","start"),l(V,"font-size","16"),l(V,"class","svelte-19rgk4g"),l(A,"id","legend"),l(A,"height","15"),l(A,"width",e[1]),l(A,"class","svelte-19rgk4g"),l(k,"class","options-container svelte-19rgk4g"),l(oe,"class","options-container svelte-19rgk4g"),l(K,"height",e[10]),l(K,"width",e[1]),l(K,"id","svgChart"),l(W,"class","chart-wrapper"),Vn(()=>e[17].call(W))},m(p,H){D(p,t,H),D(p,r,H),D(p,o,H),v(o,a),v(a,i),D(p,h,H),D(p,c,H),v(c,s),v(s,f),v(c,u),v(c,g),v(c,y),v(c,m),v(m,M),v(c,T),v(T,F),D(p,I,H),D(p,A,H),v(A,V),v(V,U),D(p,C,H),D(p,k,H);for(let w=0;w<ee.length;w+=1)ee[w]&&ee[w].m(k,null);D(p,P,H),D(p,oe,H);for(let w=0;w<G.length;w+=1)G[w]&&G[w].m(oe,null);D(p,he,H),D(p,W,H),v(W,K);for(let w=0;w<X.length;w+=1)X[w]&&X[w].m(K,null);v(K,Ce);for(let w=0;w<te.length;w+=1)te[w]&&te[w].m(K,null);Ee=Wn(W,e[17].bind(W))},p(p,[H]){if(H&2&&l(o,"width",p[1]),H&2&&l(c,"width",p[1]),H&2&&l(A,"width",p[1]),H&193){me=Z(p[6]);let w;for(w=0;w<me.length;w+=1){const q=Jt(p,me,w);ee[w]?ee[w].p(q,H):(ee[w]=Xt(q),ee[w].c(),ee[w].m(k,null))}for(;w<ee.length;w+=1)ee[w].d(1);ee.length=me.length}if(H&772){ye=Z(p[8]);let w;for(w=0;w<ye.length;w+=1){const q=qt(p,ye,w);G[w]?G[w].p(q,H):(G[w]=Kt(q),G[w].c(),G[w].m(oe,null))}for(;w<G.length;w+=1)G[w].d(1);G.length=ye.length}if(H&1048){we=Z(p[3]);let w;for(w=0;w<we.length;w+=1){const q=Zt(p,we,w);X[w]?X[w].p(q,H):(X[w]=en(q),X[w].c(),X[w].m(K,Ce))}for(;w<X.length;w+=1)X[w].d(1);X.length=we.length}if(H&48){ge=Z(p[5]);let w;for(w=0;w<ge.length;w+=1){const q=Qt(p,ge,w);te[w]?te[w].p(q,H):(te[w]=tn(q),te[w].c(),te[w].m(K,null))}for(;w<te.length;w+=1)te[w].d(1);te.length=ge.length}H&2&&l(K,"width",p[1])},i:Te,o:Te,d(p){p&&(d(t),d(r),d(o),d(h),d(c),d(I),d(A),d(C),d(k),d(P),d(oe),d(he),d(W)),_e(ee,p),_e(G,p),_e(X,p),_e(te,p),Ee()}}}function nn(e){return e>999?e%1e3===0?(e/1e3).toFixed(0)+"k":(e/1e3).toFixed(1)+"k":e}function Co(e,t,n){let r,o,a,{data:i}=t,{cities:h}=t,c="Log Scale",s=["Linear Scale","Log Scale"];function f(U){n(0,c=U)}let u="Sort by #",g=["Sort by #","Sort by %"];function y(U){n(2,u=U),U==="Sort by #"?n(5,a=a.sort((C,k)=>k.conv-C.conv||k.per-C.per)):n(5,a=a.sort((C,k)=>k.per-C.per||k.conv-C.conv)),console.log(a)}let m,M=300+40*25,T,F;const I=U=>f(U),A=U=>y(U);function V(){m=this.offsetWidth,n(1,m)}return e.$$set=U=>{"data"in U&&n(11,i=U.data),"cities"in U&&n(12,h=U.cities)},e.$$.update=()=>{e.$$.dirty&2048&&n(14,r=Ct(i,U=>U.GEO,U=>U.Type)),e.$$.dirty&16384&&n(13,o=Array.from(r,([U,C])=>({GEO:U,sums:Array.from(C,([k,P])=>({Type:k,sumValue:kt(P,oe=>oe.VALUE)}))}))),e.$$.dirty&12288&&n(13,o=o.filter(U=>h.slice(1).includes(U.GEO))),e.$$.dirty&8192&&n(5,a=o.map(U=>{const C=U.sums.filter(he=>he.Type!=="new").reduce((he,W)=>he+W.sumValue,0),k=U.sums.reduce((he,W)=>he+W.sumValue,0),P=k!==0?C/k:0;let oe;return P<.05?oe="#F1C500":P<.1?oe="#ce6c35":oe="#ab1269",{GEO:U.GEO,conv:C,per:P,colour:oe}}).sort((U,C)=>C.conv-U.conv)),e.$$.dirty&3&&(c==="Log Scale"?(n(4,F=xn().domain([100,65e3]).range([0,m])),n(3,T=[500,1e3,5e3,1e4,5e4])):(n(4,F=Mt().domain([1,42e3]).range([0,m])),n(3,T=[1e4,2e4,3e4,4e4])))},[c,m,u,T,F,a,s,f,g,y,M,i,h,o,r,I,A,V]}class ko extends ct{constructor(t){super(),ft(this,t,Co,Mo,st,{data:11,cities:12})}}function rn(e,t,n){const r=e.slice();return r[7]=t[n],r}function Do(e,t,n){const r=e.slice();return r[10]=t[n],r[12]=n,r}function Uo(e,t,n){const r=e.slice();return r[13]=t[n],r}function on(e,t,n){const r=e.slice();return r[16]=t[n],r}function an(e,t,n){const r=e.slice();return r[10]=t[n],r}function ln(e,t,n){const r=e.slice();return r[21]=t[n],r}function un(e){let t=(e[4]=Mt().domain([0,e[16].mean*2.25]).range([115,25]))+"",n,r,o,a=Z(e[16].sums),i=[];for(let s=0;s<a.length;s+=1)i[s]=sn(ln(e,a,s));let h=Z(["2019","2020","2021","2022","2023"]),c=[];for(let s=0;s<5;s+=1)c[s]=cn(an(e,h,s));return{c(){n=ie(t);for(let s=0;s<i.length;s+=1)i[s].c();r=le();for(let s=0;s<5;s+=1)c[s].c();o=le()},l(s){n=ae(s,t);for(let f=0;f<i.length;f+=1)i[f].l(s);r=le();for(let f=0;f<5;f+=1)c[f].l(s);o=le()},m(s,f){D(s,n,f);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(s,f);D(s,r,f);for(let u=0;u<5;u+=1)c[u]&&c[u].m(s,f);D(s,o,f)},p(s,f){if(f&2&&t!==(t=(s[4]=Mt().domain([0,s[16].mean*2.25]).range([115,25]))+"")&&Ue(n,t),f&22){a=Z(s[16].sums);let u;for(u=0;u<a.length;u+=1){const g=ln(s,a,u);i[u]?i[u].p(g,f):(i[u]=sn(g),i[u].c(),i[u].m(r.parentNode,r))}for(;u<i.length;u+=1)i[u].d(1);i.length=a.length}if(f&30){h=Z(["2019","2020","2021","2022","2023"]);let u;for(u=0;u<5;u+=1){const g=an(s,h,u);c[u]?c[u].p(g,f):(c[u]=cn(g),c[u].c(),c[u].m(o.parentNode,o))}for(;u<5;u+=1)c[u].d(1)}},d(s){s&&(d(n),d(r),d(o)),_e(i,s),_e(c,s)}}}function sn(e){let t,n,r,o;return{c(){t=B("line"),this.h()},l(a){t=R(a,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),E(t).forEach(d),this.h()},h(){l(t,"x1",n=e[2](e[21].date)),l(t,"y1",r=e[4](e[21].sumValue)),l(t,"x2",o=e[2](e[21].date)),l(t,"y2",115),pe(t,"stroke","#F1C500"),pe(t,"stroke-width","3"),pe(t,"opacity","0.42")},m(a,i){D(a,t,i)},p(a,i){i&6&&n!==(n=a[2](a[21].date))&&l(t,"x1",n),i&2&&r!==(r=a[4](a[21].sumValue))&&l(t,"y1",r),i&6&&o!==(o=a[2](a[21].date))&&l(t,"x2",o)},d(a){a&&d(t)}}}function xo(e){let t,n,r,o,a=Math.round(e[16].yearlyData[e[10]].sum)+"",i,h;return{c(){t=B("line"),o=B("text"),i=ie(a),this.h()},l(c){t=R(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),E(t).forEach(d),o=R(c,"text",{x:!0,y:!0,"text-anchor":!0,id:!0,"font-size":!0,class:!0});var s=E(o);i=ae(s,a),s.forEach(d),this.h()},h(){l(t,"x1",n=e[2](e[3](e[10]+"-01"))),l(t,"y1","35"),l(t,"x2",r=e[2](e[3](e[10]+"-12"))),l(t,"y2","35"),pe(t,"stroke","#ab1269"),pe(t,"stroke-width","2"),l(o,"x",h=e[2](e[3](e[10]+"-01"))+27.6/2),l(o,"y","33"),l(o,"text-anchor","middle"),l(o,"id","avgLabel"),l(o,"font-size","12"),l(o,"class","svelte-1czd5nw")},m(c,s){D(c,t,s),D(c,o,s),v(o,i)},p(c,s){s&4&&n!==(n=c[2](c[3](c[10]+"-01")))&&l(t,"x1",n),s&4&&r!==(r=c[2](c[3](c[10]+"-12")))&&l(t,"x2",r),s&2&&a!==(a=Math.round(c[16].yearlyData[c[10]].sum)+"")&&Ue(i,a),s&4&&h!==(h=c[2](c[3](c[10]+"-01"))+27.6/2)&&l(o,"x",h)},d(c){c&&(d(t),d(o))}}}function So(e){let t,n,r,o,a,i,h=Math.round(e[16].yearlyData[e[10]].sum)+"",c,s,f;return{c(){t=B("line"),i=B("text"),c=ie(h),this.h()},l(u){t=R(u,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),E(t).forEach(d),i=R(u,"text",{x:!0,y:!0,"text-anchor":!0,id:!0,"font-size":!0,class:!0});var g=E(i);c=ae(g,h),g.forEach(d),this.h()},h(){l(t,"x1",n=e[2](e[3](e[10]+"-01"))),l(t,"y1",r=e[4](e[16].yearlyData[e[10]].sum/e[16].yearlyData[e[10]].count)),l(t,"x2",o=e[2](e[3](e[10]+"-12"))),l(t,"y2",a=e[4](e[16].yearlyData[e[10]].sum/e[16].yearlyData[e[10]].count)),pe(t,"stroke","#ab1269"),pe(t,"stroke-width","2"),l(i,"x",s=e[2](e[3](e[10]+"-01"))+27.6/2),l(i,"y",f=e[4](e[16].yearlyData[e[10]].sum/e[16].yearlyData[e[10]].count)-2),l(i,"text-anchor","middle"),l(i,"id","avgLabel"),l(i,"font-size","12"),l(i,"class","svelte-1czd5nw")},m(u,g){D(u,t,g),D(u,i,g),v(i,c)},p(u,g){g&4&&n!==(n=u[2](u[3](u[10]+"-01")))&&l(t,"x1",n),g&2&&r!==(r=u[4](u[16].yearlyData[u[10]].sum/u[16].yearlyData[u[10]].count))&&l(t,"y1",r),g&4&&o!==(o=u[2](u[3](u[10]+"-12")))&&l(t,"x2",o),g&2&&a!==(a=u[4](u[16].yearlyData[u[10]].sum/u[16].yearlyData[u[10]].count))&&l(t,"y2",a),g&2&&h!==(h=Math.round(u[16].yearlyData[u[10]].sum)+"")&&Ue(c,h),g&4&&s!==(s=u[2](u[3](u[10]+"-01"))+27.6/2)&&l(i,"x",s),g&2&&f!==(f=u[4](u[16].yearlyData[u[10]].sum/u[16].yearlyData[u[10]].count)-2)&&l(i,"y",f)},d(u){u&&(d(t),d(i))}}}function cn(e){let t,n;function r(i,h){return h&2&&(t=null),t==null&&(t=i[4](i[16].yearlyData[i[10]].sum/i[16].yearlyData[i[10]].count)>35),t?So:xo}let o=r(e,-1),a=o(e);return{c(){a.c(),n=le()},l(i){a.l(i),n=le()},m(i,h){a.m(i,h),D(i,n,h)},p(i,h){o===(o=r(i,h))&&a?a.p(i,h):(a.d(1),a=o(i),a&&(a.c(),a.m(n.parentNode,n)))},d(i){i&&d(n),a.d(i)}}}function fn(e){let t,n=e[7]===e[16].GEO&&un(e);return{c(){n&&n.c(),t=le()},l(r){n&&n.l(r),t=le()},m(r,o){n&&n.m(r,o),D(r,t,o)},p(r,o){r[7]===r[16].GEO?n?n.p(r,o):(n=un(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&d(t),n&&n.d(r)}}}function Eo(e){let t;return{c(){t=B("line"),this.h()},l(n){t=R(n,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),E(t).forEach(d),this.h()},h(){l(t,"x1",6+e[13]*27.6),l(t,"y1","115"),l(t,"x2",6+e[13]*27.6),l(t,"y2","120"),pe(t,"stroke","#1470ad"),pe(t,"stroke-width","1")},m(n,r){D(n,t,r)},p:Te,d(n){n&&d(t)}}}function Fo(e){let t,n;return{c(){t=B("text"),n=ie(e[10]),this.h()},l(r){t=R(r,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var o=E(t);n=ae(o,e[10]),o.forEach(d),this.h()},h(){l(t,"x",20+e[12]*27.6),l(t,"y","127"),l(t,"id","cityLabel"),l(t,"text-anchor","middle"),l(t,"font-size","15"),l(t,"class","svelte-1czd5nw")},m(r,o){D(r,t,o),v(t,n)},p:Te,d(r){r&&d(t)}}}function hn(e){let t,n,r,o=e[7].split(",")[0]+"",a,i,h,c=Z(e[1]),s=[];for(let m=0;m<c.length;m+=1)s[m]=fn(on(e,c,m));let f=Z([0,1,2,3,4,5]),u=[];for(let m=0;m<6;m+=1)u[m]=Eo(Uo(e,f,m));let g=Z([19,20,21,22,23]),y=[];for(let m=0;m<5;m+=1)y[m]=Fo(Do(e,g,m));return{c(){t=O("div"),n=B("svg");for(let m=0;m<s.length;m+=1)s[m].c();r=B("text"),a=ie(o);for(let m=0;m<6;m+=1)u[m].c();i=le();for(let m=0;m<5;m+=1)y[m].c();h=j(),this.h()},l(m){t=L(m,"DIV",{class:!0});var M=E(t);n=R(M,"svg",{height:!0,width:!0,id:!0});var T=E(n);for(let I=0;I<s.length;I+=1)s[I].l(T);r=R(T,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var F=E(r);a=ae(F,o),F.forEach(d);for(let I=0;I<6;I+=1)u[I].l(T);i=le();for(let I=0;I<5;I+=1)y[I].l(T);T.forEach(d),h=Q(M),M.forEach(d),this.h()},h(){l(r,"x","5"),l(r,"y",20),l(r,"id","cityLabel"),l(r,"text-anchor","start"),l(r,"font-size","15"),l(r,"class","svelte-1czd5nw"),l(n,"height",145),l(n,"width",145),l(n,"id","svgChart"),l(t,"class","chart svelte-1czd5nw")},m(m,M){D(m,t,M),v(t,n);for(let T=0;T<s.length;T+=1)s[T]&&s[T].m(n,null);v(n,r),v(r,a);for(let T=0;T<6;T+=1)u[T]&&u[T].m(n,null);v(n,i);for(let T=0;T<5;T+=1)y[T]&&y[T].m(n,null);v(t,h)},p(m,M){if(M&31){c=Z(m[1]);let T;for(T=0;T<c.length;T+=1){const F=on(m,c,T);s[T]?s[T].p(F,M):(s[T]=fn(F),s[T].c(),s[T].m(n,r))}for(;T<s.length;T+=1)s[T].d(1);s.length=c.length}M&1&&o!==(o=m[7].split(",")[0]+"")&&Ue(a,o)},d(m){m&&d(t),_e(s,m),_e(u,m),_e(y,m)}}}function Ao(e){let t,n=Z(e[0]),r=[];for(let o=0;o<n.length;o+=1)r[o]=hn(rn(e,n,o));return{c(){t=O("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){t=L(o,"DIV",{id:!0,class:!0});var a=E(t);for(let i=0;i<r.length;i+=1)r[i].l(a);a.forEach(d),this.h()},h(){l(t,"id","chartWrapper"),l(t,"class","svelte-1czd5nw")},m(o,a){D(o,t,a);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(t,null)},p(o,[a]){if(a&31){n=Z(o[0]);let i;for(i=0;i<n.length;i+=1){const h=rn(o,n,i);r[i]?r[i].p(h,a):(r[i]=hn(h),r[i].c(),r[i].m(t,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},i:Te,o:Te,d(o){o&&d(t),_e(r,o)}}}function Oo(e,t,n){let r,o,a,{data:i}=t,{cities:h}=t;const c=Hn("%Y-%m");let s;return e.$$set=f=>{"data"in f&&n(5,i=f.data),"cities"in f&&n(0,h=f.cities)},e.$$.update=()=>{e.$$.dirty&32&&n(6,r=Ct(i.filter(f=>!f.Type.includes("new")),f=>f.GEO,f=>f.REF_DATE)),e.$$.dirty&64&&n(1,o=Array.from(r,([f,u])=>({GEO:f,sums:Array.from(u,([g,y])=>({date:g,sumValue:kt(y,m=>m.VALUE)}))}))),e.$$.dirty&3&&n(1,o=o.filter(f=>h.includes(f.GEO))),e.$$.dirty&2&&o.forEach(f=>{f.sums.forEach(u=>{u.date=c(u.date)}),f.maxValue=Math.max(...f.sums.map(u=>u.sumValue)),f.mean=Zn(f.sums.map(u=>u.sumValue))}),e.$$.dirty&2&&o.forEach(f=>{const u={};f.sums.forEach(g=>{const m=new Date(g.date).getUTCFullYear();u[m]||(u[m]={sum:0,count:0}),u[m].sum+=g.sumValue,u[m].count++}),f.yearlyData=u})},n(2,a=bo().domain([c("2019-01"),c("2023-12")]).range([6,144])),[h,o,a,c,s,i,r]}class Lo extends ct{constructor(t){super(),ft(this,t,Oo,Ao,st,{data:5,cities:0})}}function mn(e,t,n){const r=e.slice();return r[5]=t[n],r}function gn(e,t,n){const r=e.slice();return r[8]=t[n],r}function dn(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function _n(e,t,n){const r=e.slice();return r[14]=t[n],r[16]=n,r}function pn(e){let t,n=Z([0,1,2,3,4,5,6,7,8,9]),r=[];for(let o=0;o<10;o+=1)r[o]=vn(dn(e,n,o));return{c(){for(let o=0;o<10;o+=1)r[o].c();t=le()},l(o){for(let a=0;a<10;a+=1)r[a].l(o);t=le()},m(o,a){for(let i=0;i<10;i+=1)r[i]&&r[i].m(o,a);D(o,t,a)},p(o,a){if(a&2){n=Z([0,1,2,3,4,5,6,7,8,9]);let i;for(i=0;i<10;i+=1){const h=dn(o,n,i);r[i]?r[i].p(h,a):(r[i]=vn(h),r[i].c(),r[i].m(t.parentNode,t))}for(;i<10;i+=1)r[i].d(1)}},d(o){o&&d(t),_e(r,o)}}}function Ho(e){let t;return{c(){t=B("rect"),this.h()},l(n){t=R(n,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),E(t).forEach(d),this.h()},h(){l(t,"x",5+Ge*e[14]),l(t,"y",25+Ge*e[11]),l(t,"width",$e),l(t,"height",$e),l(t,"fill","#ce6c35")},m(n,r){D(n,t,r)},p:Te,d(n){n&&d(t)}}}function Yo(e){let t;return{c(){t=B("rect"),this.h()},l(n){t=R(n,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),E(t).forEach(d),this.h()},h(){l(t,"x",5+Ge*e[14]),l(t,"y",25+Ge*e[11]),l(t,"width",$e),l(t,"height",$e),l(t,"fill","#F1C500")},m(n,r){D(n,t,r)},p:Te,d(n){n&&d(t)}}}function zo(e){let t;return{c(){t=B("rect"),this.h()},l(n){t=R(n,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),E(t).forEach(d),this.h()},h(){l(t,"x",5+Ge*e[14]),l(t,"y",25+Ge*e[11]),l(t,"width",$e),l(t,"height",$e),l(t,"fill","#3597CE")},m(n,r){D(n,t,r)},p:Te,d(n){n&&d(t)}}}function yn(e){let t;function n(a,i){return a[16]+a[13]*10<a[8].PerNtoR?zo:a[16]+a[13]*10<a[8].PerNtoR+a[8].PerStoM?Yo:Ho}let r=n(e),o=r(e);return{c(){o.c(),t=le()},l(a){o.l(a),t=le()},m(a,i){o.m(a,i),D(a,t,i)},p(a,i){r===(r=n(a))&&o?o.p(a,i):(o.d(1),o=r(a),o&&(o.c(),o.m(t.parentNode,t)))},d(a){a&&d(t),o.d(a)}}}function vn(e){let t,n=Z([0,1,2,3,4,5,6,7,8,9]),r=[];for(let o=0;o<10;o+=1)r[o]=yn(_n(e,n,o));return{c(){for(let o=0;o<10;o+=1)r[o].c();t=le()},l(o){for(let a=0;a<10;a+=1)r[a].l(o);t=le()},m(o,a){for(let i=0;i<10;i+=1)r[i]&&r[i].m(o,a);D(o,t,a)},p(o,a){if(a&2){n=Z([0,1,2,3,4,5,6,7,8,9]);let i;for(i=0;i<10;i+=1){const h=_n(o,n,i);r[i]?r[i].p(h,a):(r[i]=yn(h),r[i].c(),r[i].m(t.parentNode,t))}for(;i<10;i+=1)r[i].d(1)}},d(o){o&&d(t),_e(r,o)}}}function wn(e){let t,n=e[5]===e[8].GEO&&pn(e);return{c(){n&&n.c(),t=le()},l(r){n&&n.l(r),t=le()},m(r,o){n&&n.m(r,o),D(r,t,o)},p(r,o){r[5]===r[8].GEO?n?n.p(r,o):(n=pn(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&d(t),n&&n.d(r)}}}function bn(e){let t,n,r,o=e[5].split(",")[0]+"",a,i,h=Z(e[1]),c=[];for(let s=0;s<h.length;s+=1)c[s]=wn(gn(e,h,s));return{c(){t=O("div"),n=B("svg"),r=B("text"),a=ie(o);for(let s=0;s<c.length;s+=1)c[s].c();i=j(),this.h()},l(s){t=L(s,"DIV",{class:!0});var f=E(t);n=R(f,"svg",{height:!0,width:!0,id:!0});var u=E(n);r=R(u,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var g=E(r);a=ae(g,o),g.forEach(d);for(let y=0;y<c.length;y+=1)c[y].l(u);u.forEach(d),i=Q(f),f.forEach(d),this.h()},h(){l(r,"x","5"),l(r,"y",20),l(r,"id","cityLabel"),l(r,"text-anchor","start"),l(r,"font-size","15"),l(r,"class","svelte-9wop4q"),l(n,"height",145),l(n,"width",126),l(n,"id","svgChart"),l(t,"class","chart svelte-9wop4q")},m(s,f){D(s,t,f),v(t,n),v(n,r),v(r,a);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(n,null);v(t,i)},p(s,f){if(f&1&&o!==(o=s[5].split(",")[0]+"")&&Ue(a,o),f&3){h=Z(s[1]);let u;for(u=0;u<h.length;u+=1){const g=gn(s,h,u);c[u]?c[u].p(g,f):(c[u]=wn(g),c[u].c(),c[u].m(n,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=h.length}},d(s){s&&d(t),_e(c,s)}}}function Vo(e){let t,n=Z(e[0]),r=[];for(let o=0;o<n.length;o+=1)r[o]=bn(mn(e,n,o));return{c(){t=O("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){t=L(o,"DIV",{id:!0,class:!0});var a=E(t);for(let i=0;i<r.length;i+=1)r[i].l(a);a.forEach(d),this.h()},h(){l(t,"id","chartWrapper"),l(t,"class","svelte-9wop4q")},m(o,a){D(o,t,a);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(t,null)},p(o,[a]){if(a&3){n=Z(o[0]);let i;for(i=0;i<n.length;i+=1){const h=mn(o,n,i);r[i]?r[i].p(h,a):(r[i]=bn(h),r[i].c(),r[i].m(t,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},i:Te,o:Te,d(o){o&&d(t),_e(r,o)}}}let $e=9,Ge=12;function Wo(e){const t=e.reduce((o,a)=>o+a,0),n=e.map(o=>Math.round(o)),r=Math.floor(t)-n.reduce((o,a)=>o+a,0);for(let o=0;o<r;o++)if(e[o]!==0){n[o]++;break}return n}function No(e,t,n){let r,o,a,{data:i}=t,{cities:h}=t;return e.$$set=c=>{"data"in c&&n(2,i=c.data),"cities"in c&&n(0,h=c.cities)},e.$$.update=()=>{e.$$.dirty&4&&n(4,r=Ct(i,c=>c.GEO,c=>c.Type)),e.$$.dirty&16&&n(3,o=Array.from(r,([c,s])=>({GEO:c,sums:Array.from(s,([f,u])=>({Type:f,sumValue:kt(u,g=>g.VALUE)}))}))),e.$$.dirty&9&&n(3,o=o.filter(c=>h.includes(c.GEO))),e.$$.dirty&8&&n(1,a=o.map(c=>{const s=c.sums.filter(y=>y.Type!=="new").reduce((y,m)=>y+m.sumValue,0);let f=Math.round(100*c.sums.filter(y=>y.Type==="m-to-m")[0].sumValue/s),u=Math.round(100*c.sums.filter(y=>y.Type==="s-to-m")[0].sumValue/s),g=Math.round(100*c.sums.filter(y=>y.Type==="n-to-r")[0].sumValue/s);return[f,u,g]=Wo([f,u,g]),{GEO:c.GEO,PerMtoM:f,PerStoM:u,PerNtoR:g}})),e.$$.dirty&2&&console.log(a)},[h,a,i,o,r]}class Io extends ct{constructor(t){super(),ft(this,t,No,Vo,st,{data:2,cities:0})}}var Tn={},wt={},bt=34,nt=10,Tt=13;function zn(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Bo(e,t){var n=zn(e);return function(r,o){return t(n(r),o,e)}}function Mn(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var o in r)o in t||n.push(t[o]=o)}),n}function de(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function Ro(e){return e<0?"-"+de(-e,6):e>9999?"+"+de(e,6):de(e,4)}function Po(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":Ro(e.getUTCFullYear())+"-"+de(e.getUTCMonth()+1,2)+"-"+de(e.getUTCDate(),2)+(o?"T"+de(t,2)+":"+de(n,2)+":"+de(r,2)+"."+de(o,3)+"Z":r?"T"+de(t,2)+":"+de(n,2)+":"+de(r,2)+"Z":n||t?"T"+de(t,2)+":"+de(n,2)+"Z":"")}function $o(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(u,g){var y,m,M=o(u,function(T,F){if(y)return y(T,F-1);m=T,y=g?Bo(T,g):zn(T)});return M.columns=m||[],M}function o(u,g){var y=[],m=u.length,M=0,T=0,F,I=m<=0,A=!1;u.charCodeAt(m-1)===nt&&--m,u.charCodeAt(m-1)===Tt&&--m;function V(){if(I)return wt;if(A)return A=!1,Tn;var C,k=M,P;if(u.charCodeAt(k)===bt){for(;M++<m&&u.charCodeAt(M)!==bt||u.charCodeAt(++M)===bt;);return(C=M)>=m?I=!0:(P=u.charCodeAt(M++))===nt?A=!0:P===Tt&&(A=!0,u.charCodeAt(M)===nt&&++M),u.slice(k+1,C-1).replace(/""/g,'"')}for(;M<m;){if((P=u.charCodeAt(C=M++))===nt)A=!0;else if(P===Tt)A=!0,u.charCodeAt(M)===nt&&++M;else if(P!==n)continue;return u.slice(k,C)}return I=!0,u.slice(k,m)}for(;(F=V())!==wt;){for(var U=[];F!==Tn&&F!==wt;)U.push(F),F=V();g&&(U=g(U,T++))==null||y.push(U)}return y}function a(u,g){return u.map(function(y){return g.map(function(m){return f(y[m])}).join(e)})}function i(u,g){return g==null&&(g=Mn(u)),[g.map(f).join(e)].concat(a(u,g)).join(`
`)}function h(u,g){return g==null&&(g=Mn(u)),a(u,g).join(`
`)}function c(u){return u.map(s).join(`
`)}function s(u){return u.map(f).join(e)}function f(u){return u==null?"":u instanceof Date?Po(u):t.test(u+="")?'"'+u.replace(/"/g,'""')+'"':u}return{parse:r,parseRows:o,format:i,formatBody:h,formatRows:c,formatRow:s,formatValue:f}}var Go=$o(","),jo=Go.parse;function Qo(e){let t,n,r,o,a,i,h,c,s,f,u,g,y,m,M,T,F,I,A,V,U='<div class="title"><h1>Tracking Residential Dwelling Conversions</h1> <h2>An Exploration of Canadian Building Permit Survey Data</h2> <h2></h2> <p><a href="https://jamaps.github.io" target="_blank">Jeff Allen</a> </p><p>July 2024</p></div>',C,k,P,oe="<p>â–¼</p>",he,W,K,Ce='Many Canadian cities need more housing, both now and in the near future. While urban sprawl consumes green spaces and strains resources, the conversion and expansion of existing buildings offer a more sustainable path forward. Research in Canada has shown that <a href="https://imfg.org/research/doc/?doc_id=637" target="_blank">urban sprawl has far worse impacts on climate change than infill development</a>. Moreover, <a href="https://csbe.civmin.utoronto.ca/wp-content/uploads/2023/11/khr_Saxe_FIG2023.pdf" target="_blank">maintaining existing building stock</a> to help construct new units can reduce emissions related to procuring and transporting new building material.',Ee,me,ee="There are a variety of building conversions: altering a single-family home to create additional dwelling units (a basement apartment for example); a duplex expanding into a triplex or fourplex; or converting a previously non-residential building into residential units.",ye,G,we="On this page, we chart how different Canadian urban regions are doing in terms of creating new residential dwelling units from building conversions, over the five year period of 2019 to 2023.",X,ge,te='The data are sourced from Statistics Canada&#39;s <a href="https://www23.statcan.gc.ca/imdb/p2SV.pl?Function=getSurvey&amp;Id=418552&amp;" target="_blank">Building Permit Survey</a>. This survey tracks attributes of building permits by Census Metropolitan Area (CMA) on a monthly basis. The survey includes the number of new dwelling units that were created due to building conversions, and has categories for three types of conversions (a. non-residential to residential, b. single dwelling to multiple dwellings, and c. multiple to multiple).',p,H,w="Overall across Canada there were <b>104,425</b> new dwelling units created via conversions in the five-year period from 01/2019 to 12/2023. This accounts for <b>7.9%</b> of all new residential dwelling units created during this period, based on the data recorded in the building permit survey. Below we chart how this varies by CMA, trends over time, as well as different types of building conversions.",q,Fe,Ae,b,x,S,_=`<h3>New dwellings from building conversions, 01/2019 to 12/2023</h3> <p style="font-size: 15px"><svg height="15" width="28"><text x="14" y="11" text-anchor="middle" font-size="12" style="fill: #ab1269;">100</text><line x1="0" y1="14" x2="28" y2="14" style="stroke: #ab1269; stroke-width: 3;"></line></svg>
				Yearly totals
				<svg height="25" width="25"><line x1="5" y1="20" x2="5" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line><line x1="10" y1="15" x2="10" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line><line x1="15" y1="5" x2="15" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line><line x1="20" y1="10" x2="20" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line></svg>
				Monthly trends</p>`,ne,Y,re,z,Me='<h3>Proportion of new dwellings by type of building conversion</h3> <div style="margin-top: -15px"><svg height="25" width="300"><text x="0" y="12" id="years" text-anchor="start" font-size="16" class="svelte-143n11e">01/2019 to 12/2023 (5 years total)</text></svg></div> <p style="font-size: 15px; margin-bottom: -25px"><svg height="100" width="400"><text x="0" y="12" text-anchor="start" font-size="16" style="fill: #1470ad;">One square = 1% of new dwellings from conversions</text><rect x="0" y="27" width="9" height="9" fill="#3597CE"></rect><text x="15" y="37" text-anchor="start" font-size="16" style="fill: #1470ad;">Non-residential to residential</text><rect x="0" y="52" width="9" height="9" fill="#F1C500"></rect><text x="15" y="62" text-anchor="start" font-size="16" style="fill: #1470ad;">Single dwelling to multiple dwellings</text><rect x="0" y="77" width="9" height="9" fill="#ce6c35"></rect><text x="15" y="87" text-anchor="start" font-size="16" style="fill: #1470ad;">Multiple dwellings to multiple dwellings</text></svg></p>',Ne,Oe,mt,Le,Ft='<p>Code for this page is hosted on a <a href="https://github.com/schoolofcities/gentle-density" target="_blank">GitHub repository</a>. The subset of Building Permit Survey data shown on these charts can be accessed <a href="https://raw.githubusercontent.com/schoolofcities/gentle-density/main/static/conversions-canada-2018-to-2024.csv" target="_blank">as a .csv file by clicking here</a>. The full dataset, including many other types of building permits, can be queried and downloaded from <a href="https://www150.statcan.gc.ca/t1/tbl1/en/tv.action?pid=3410028501" target="_blank">Statistics Canada</a>.</p>',gt,He,ot;return F=new Bn({}),b=new ko({props:{data:e[0],cities:e[1]}}),Y=new Lo({props:{data:e[0],cities:e[1]}}),Oe=new Io({props:{data:e[0],cities:e[1]}}),He=new Rn({props:{currentPage:"canadian-residential-conversions"}}),{c(){t=O("meta"),n=O("meta"),r=O("meta"),o=O("meta"),a=O("meta"),i=O("meta"),h=O("meta"),c=O("meta"),s=O("meta"),f=O("meta"),u=O("meta"),g=O("meta"),y=O("meta"),m=O("meta"),M=O("meta"),T=j(),je(F.$$.fragment),I=j(),A=O("main"),V=O("div"),V.innerHTML=U,C=j(),k=O("div"),P=O("div"),P.innerHTML=oe,he=j(),W=O("div"),K=O("p"),K.innerHTML=Ce,Ee=j(),me=O("p"),me.textContent=ee,ye=j(),G=O("p"),G.textContent=we,X=j(),ge=O("p"),ge.innerHTML=te,p=j(),H=O("p"),H.innerHTML=w,q=j(),Fe=O("br"),Ae=j(),je(b.$$.fragment),x=j(),S=O("div"),S.innerHTML=_,ne=j(),je(Y.$$.fragment),re=j(),z=O("div"),z.innerHTML=Me,Ne=j(),je(Oe.$$.fragment),mt=j(),Le=O("div"),Le.innerHTML=Ft,gt=j(),je(He.$$.fragment),this.h()},l($){const J=Nn("svelte-iwu35y",document.head);t=L(J,"META",{name:!0,content:!0}),n=L(J,"META",{name:!0,content:!0}),r=L(J,"META",{name:!0,content:!0}),o=L(J,"META",{property:!0,content:!0}),a=L(J,"META",{property:!0,content:!0}),i=L(J,"META",{property:!0,content:!0}),h=L(J,"META",{property:!0,content:!0}),c=L(J,"META",{property:!0,content:!0}),s=L(J,"META",{property:!0,content:!0}),f=L(J,"META",{name:!0,content:!0}),u=L(J,"META",{name:!0,content:!0}),g=L(J,"META",{name:!0,content:!0}),y=L(J,"META",{name:!0,content:!0}),m=L(J,"META",{name:!0,content:!0}),M=L(J,"META",{name:!0,content:!0}),J.forEach(d),T=Q($),Qe(F.$$.fragment,$),I=Q($),A=L($,"MAIN",{});var Ye=E(A);V=L(Ye,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),be(V)!=="svelte-1b4pu1x"&&(V.innerHTML=U),C=Q(Ye),k=L(Ye,"DIV",{class:!0});var ue=E(k);P=L(ue,"DIV",{class:!0,"data-svelte-h":!0}),be(P)!=="svelte-1s98lsq"&&(P.innerHTML=oe),he=Q(ue),W=L(ue,"DIV",{class:!0});var fe=E(W);K=L(fe,"P",{"data-svelte-h":!0}),be(K)!=="svelte-19t3y5t"&&(K.innerHTML=Ce),Ee=Q(fe),me=L(fe,"P",{"data-svelte-h":!0}),be(me)!=="svelte-9ij9lg"&&(me.textContent=ee),ye=Q(fe),G=L(fe,"P",{"data-svelte-h":!0}),be(G)!=="svelte-18isnzl"&&(G.textContent=we),X=Q(fe),ge=L(fe,"P",{"data-svelte-h":!0}),be(ge)!=="svelte-1agh4sb"&&(ge.innerHTML=te),p=Q(fe),H=L(fe,"P",{"data-svelte-h":!0}),be(H)!=="svelte-1pek1vq"&&(H.innerHTML=w),q=Q(fe),Fe=L(fe,"BR",{}),Ae=Q(fe),Qe(b.$$.fragment,fe),fe.forEach(d),x=Q(ue),S=L(ue,"DIV",{class:!0,"data-svelte-h":!0}),be(S)!=="svelte-1eecfim"&&(S.innerHTML=_),ne=Q(ue),Qe(Y.$$.fragment,ue),re=Q(ue),z=L(ue,"DIV",{class:!0,"data-svelte-h":!0}),be(z)!=="svelte-10fv0b3"&&(z.innerHTML=Me),Ne=Q(ue),Qe(Oe.$$.fragment,ue),mt=Q(ue),Le=L(ue,"DIV",{class:!0,"data-svelte-h":!0}),be(Le)!=="svelte-1i7mwzp"&&(Le.innerHTML=Ft),gt=Q(ue),Qe(He.$$.fragment,ue),ue.forEach(d),Ye.forEach(d),this.h()},h(){l(t,"name","viewport"),l(t,"content","width=device-width, initial-scale=1, minimum-scale=1"),document.title="Residential Conversions Across Canada | School of Cities",l(n,"name","description"),l(n,"content","Tracking residential dwelling conversions. An exploration of Canadian building permit survey data"),l(r,"name","author"),l(r,"content","Jeff Allen"),l(o,"property","og:title"),l(o,"content","Residential Conversions Across Canada"),l(a,"property","og:description"),l(a,"content","Tracking residential dwelling conversions. An exploration of Canadian building permit survey data"),l(i,"property","og:type"),l(i,"content","website"),l(h,"property","og:url"),l(h,"content","https://schoolofcities.github.io/gentle-density/canadian-residential-conversions"),l(c,"property","og:image"),l(c,"content","https://raw.githubusercontent.com/schoolofcities/gentle-density/main/static/web-card-conversions.png"),l(s,"property","og:locale"),l(s,"content","en_CA"),l(f,"name","twitter:card"),l(f,"content","summary_large_image"),l(u,"name","twitter:site"),l(u,"content","https://schoolofcities.github.io/gentle-density/canadian-residential-conversions"),l(g,"name","twitter:creator"),l(g,"content","@JeffAllenMaps"),l(y,"name","twitter:title"),l(y,"content","Residential Conversions Across Canada"),l(m,"name","twitter:description"),l(m,"content","Tracking residential dwelling conversions. An exploration of Canadian building permit survey data"),l(M,"name","twitter:image"),l(M,"content","https://raw.githubusercontent.com/schoolofcities/gentle-density/main/static/web-card-conversions.png"),l(V,"class","blueprint"),pe(V,"background-image","url('../gentle-density/blueprint-background-convert.png')"),l(P,"class","arrow"),l(W,"class","text"),l(S,"class","text"),l(z,"class","text"),l(Le,"class","text"),l(k,"class","background-white svelte-143n11e")},m($,J){v(document.head,t),v(document.head,n),v(document.head,r),v(document.head,o),v(document.head,a),v(document.head,i),v(document.head,h),v(document.head,c),v(document.head,s),v(document.head,f),v(document.head,u),v(document.head,g),v(document.head,y),v(document.head,m),v(document.head,M),D($,T,J),Ze(F,$,J),D($,I,J),D($,A,J),v(A,V),v(A,C),v(A,k),v(k,P),v(k,he),v(k,W),v(W,K),v(W,Ee),v(W,me),v(W,ye),v(W,G),v(W,X),v(W,ge),v(W,p),v(W,H),v(W,q),v(W,Fe),v(W,Ae),Ze(b,W,null),v(k,x),v(k,S),v(k,ne),Ze(Y,k,null),v(k,re),v(k,z),v(k,Ne),Ze(Oe,k,null),v(k,mt),v(k,Le),v(k,gt),Ze(He,k,null),ot=!0},p($,[J]){const Ye={};J&1&&(Ye.data=$[0]),b.$set(Ye);const ue={};J&1&&(ue.data=$[0]),Y.$set(ue);const fe={};J&1&&(fe.data=$[0]),Oe.$set(fe)},i($){ot||(qe(F.$$.fragment,$),qe(b.$$.fragment,$),qe(Y.$$.fragment,$),qe(Oe.$$.fragment,$),qe(He.$$.fragment,$),ot=!0)},o($){Je(F.$$.fragment,$),Je(b.$$.fragment,$),Je(Y.$$.fragment,$),Je(Oe.$$.fragment,$),Je(He.$$.fragment,$),ot=!1},d($){$&&(d(T),d(I),d(A)),d(t),d(n),d(r),d(o),d(a),d(i),d(h),d(c),d(s),d(f),d(u),d(g),d(y),d(m),d(M),Xe(F,$),Xe(b),Xe(Y),Xe(Oe),Xe(He)}}}function Zo(e,t,n){let r=[];async function o(){try{const h=await(await fetch("conversions-canada-2018-to-2024.csv")).text();n(0,r=jo(h)),n(0,r=r.filter(c=>!c.REF_DATE.includes("2024"))),n(0,r=r.filter(c=>!c.REF_DATE.includes("2018"))),r.forEach(c=>{c.VALUE=parseFloat(c.VALUE)})}catch(i){console.error("Error loading CSV data:",i)}}return In(()=>{o()}),[r,["All Canada","Abbotsford-Mission, British Columbia","Barrie, Ontario","Belleville-Quinte West, Ontario","Brantford, Ontario","Calgary, Alberta","Chilliwack, British Columbia","Edmonton, Alberta","Fredericton, New Brunswick","Greater Sudbury, Ontario","Guelph, Ontario","Halifax, Nova Scotia","Hamilton, Ontario","Kamloops, British Columbia","Kelowna, British Columbia","Kingston, Ontario","Kitchener-Cambridge-Waterloo, Ontario","Lethbridge, Alberta","London, Ontario","Moncton, New Brunswick","MontrÃ©al, Quebec","Nanaimo, British Columbia","Oshawa, Ontario","Ottawa-Gatineau, Ontario-Quebec","QuÃ©bec, Quebec","Peterborough, Ontario","Regina, Saskatchewan","Saguenay, Quebec","Saint John, New Brunswick","Saskatoon, Saskatchewan","Sherbrooke, Quebec","St. Catharines-Niagara, Ontario","St. John's, Newfoundland and Labrador","Thunder Bay, Ontario","Toronto, Ontario","Trois-RiviÃ¨res, Quebec","Vancouver, British Columbia","Victoria, British Columbia","Windsor, Ontario","Winnipeg, Manitoba"]]}class oi extends ct{constructor(t){super(),ft(this,t,Zo,Qo,st,{})}}export{oi as component,ri as universal};
