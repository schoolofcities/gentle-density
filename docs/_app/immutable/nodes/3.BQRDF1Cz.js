import{s as ut,e as O,b as q,P as B,t as ie,p as ae,d as L,A as be,j as J,Q as R,f as E,h as le,i as d,v as a,G as Yn,k as D,l as w,R as zn,n as Te,S as _e,$ as ot,T as Tn,w as ye,m as Ue,U as Vn,r as Wn}from"../chunks/scheduler.-OitRhUq.js";import{S as st,i as ct,b as Xe,d as Ke,m as et,t as tt,a as nt,e as rt}from"../chunks/index.B1cI3WIg.js";import{T as Nn}from"../chunks/styles.tkbo2nM_.js";import{i as Mn,e as $,g as Tt}from"../chunks/init.Csoud8Yr.js";import{s as Mt}from"../chunks/sum.CB6J5KXz.js";import{t as In,c as Cn,a as Et,f as Bn,b as Rn,d as Pn,e as Ft,g as Gn,l as bt}from"../chunks/linear.BEmTfIAv.js";function jn(e,t){let n=0,r=0;for(let o of e)o!=null&&(o=+o)>=o&&(++n,r+=o);if(n)return r/n}function kn(e,t){e=e.slice();var n=0,r=e.length-1,o=e[n],l=e[r],i;return l<o&&(i=n,n=r,r=i,i=o,o=l,l=i),e[n]=t.floor(o),e[r]=t.ceil(l),e}function At(e){return Math.log(e)}function Ot(e){return Math.exp(e)}function $n(e){return-Math.log(-e)}function Qn(e){return-Math.exp(-e)}function Zn(e){return isFinite(e)?+("1e"+e):e<0?0:e}function qn(e){return e===10?Zn:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Jn(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Lt(e){return(t,n)=>-e(-t,n)}function Xn(e){const t=e(At,Ot),n=t.domain;let r=10,o,l;function i(){return o=Jn(r),l=qn(r),n()[0]<0?(o=Lt(o),l=Lt(l),e($n,Qn)):e(At,Ot),t}return t.base=function(h){return arguments.length?(r=+h,i()):r},t.domain=function(h){return arguments.length?(n(h),i()):n()},t.ticks=h=>{const c=n();let s=c[0],f=c[c.length-1];const u=f<s;u&&([s,f]=[f,s]);let g=o(s),p=o(f),m,M;const T=h==null?10:+h;let F=[];if(!(r%1)&&p-g<T){if(g=Math.floor(g),p=Math.ceil(p),s>0){for(;g<=p;++g)for(m=1;m<r;++m)if(M=g<0?m/l(-g):m*l(g),!(M<s)){if(M>f)break;F.push(M)}}else for(;g<=p;++g)for(m=r-1;m>=1;--m)if(M=g>0?m/l(-g):m*l(g),!(M<s)){if(M>f)break;F.push(M)}F.length*2<T&&(F=Et(s,f,T))}else F=Et(g,p,Math.min(p-g,T)).map(l);return u?F.reverse():F},t.tickFormat=(h,c)=>{if(h==null&&(h=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Bn(c)).precision==null&&(c.trim=!0),c=Rn(c)),h===1/0)return c;const s=Math.max(1,r*h/t.ticks().length);return f=>{let u=f/l(Math.round(o(f)));return u*r<r-.5&&(u*=r),u<=s?c(f):""}},t.nice=()=>n(kn(n(),{floor:h=>l(Math.floor(o(h))),ceil:h=>l(Math.ceil(o(h)))})),t}function Dn(){const e=Xn(In()).domain([1,10]);return e.copy=()=>Cn(e,Dn()).base(e.base()),Mn.apply(e,arguments),e}const mt=new Date,gt=new Date;function ue(e,t,n,r){function o(l){return e(l=arguments.length===0?new Date:new Date(+l)),l}return o.floor=l=>(e(l=new Date(+l)),l),o.ceil=l=>(e(l=new Date(l-1)),t(l,1),e(l),l),o.round=l=>{const i=o(l),h=o.ceil(l);return l-i<h-l?i:h},o.offset=(l,i)=>(t(l=new Date(+l),i==null?1:Math.floor(i)),l),o.range=(l,i,h)=>{const c=[];if(l=o.ceil(l),h=h==null?1:Math.floor(h),!(l<i)||!(h>0))return c;let s;do c.push(s=new Date(+l)),t(l,h),e(l);while(s<l&&l<i);return c},o.filter=l=>ue(i=>{if(i>=i)for(;e(i),!l(i);)i.setTime(i-1)},(i,h)=>{if(i>=i)if(h<0)for(;++h<=0;)for(;t(i,-1),!l(i););else for(;--h>=0;)for(;t(i,1),!l(i););}),n&&(o.count=(l,i)=>(mt.setTime(+l),gt.setTime(+i),e(mt),e(gt),Math.floor(n(mt,gt))),o.every=l=>(l=Math.floor(l),!isFinite(l)||!(l>0)?null:l>1?o.filter(r?i=>r(i)%l===0:i=>o.count(0,i)%l===0):o)),o}const it=ue(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);it.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ue(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):it);it.range;const ke=1e3,ve=ke*60,De=ve*60,xe=De*24,Ct=xe*7,Ht=xe*30,dt=xe*365,Ie=ue(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ke)},(e,t)=>(t-e)/ke,e=>e.getUTCSeconds());Ie.range;const kt=ue(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ke)},(e,t)=>{e.setTime(+e+t*ve)},(e,t)=>(t-e)/ve,e=>e.getMinutes());kt.range;const Kn=ue(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*ve)},(e,t)=>(t-e)/ve,e=>e.getUTCMinutes());Kn.range;const Dt=ue(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ke-e.getMinutes()*ve)},(e,t)=>{e.setTime(+e+t*De)},(e,t)=>(t-e)/De,e=>e.getHours());Dt.range;const er=ue(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*De)},(e,t)=>(t-e)/De,e=>e.getUTCHours());er.range;const qe=ue(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*ve)/xe,e=>e.getDate()-1);qe.range;const Ut=ue(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xe,e=>e.getUTCDate()-1);Ut.range;const tr=ue(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/xe,e=>Math.floor(e/xe));tr.range;function ze(e){return ue(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*ve)/Ct)}const ft=ze(0),lt=ze(1),nr=ze(2),rr=ze(3),Be=ze(4),or=ze(5),ir=ze(6);ft.range;lt.range;nr.range;rr.range;Be.range;or.range;ir.range;function Ve(e){return ue(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Ct)}const Un=Ve(0),at=Ve(1),lr=Ve(2),ar=Ve(3),Re=Ve(4),ur=Ve(5),sr=Ve(6);Un.range;at.range;lr.range;ar.range;Re.range;ur.range;sr.range;const xt=ue(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xt.range;const cr=ue(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());cr.range;const Se=ue(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Se.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ue(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Se.range;const Ye=ue(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ye.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ue(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Ye.range;function fr(e,t,n,r,o,l){const i=[[Ie,1,ke],[Ie,5,5*ke],[Ie,15,15*ke],[Ie,30,30*ke],[l,1,ve],[l,5,5*ve],[l,15,15*ve],[l,30,30*ve],[o,1,De],[o,3,3*De],[o,6,6*De],[o,12,12*De],[r,1,xe],[r,2,2*xe],[n,1,Ct],[t,1,Ht],[t,3,3*Ht],[e,1,dt]];function h(s,f,u){const g=f<s;g&&([s,f]=[f,s]);const p=u&&typeof u.range=="function"?u:c(s,f,u),m=p?p.range(s,+f+1):[];return g?m.reverse():m}function c(s,f,u){const g=Math.abs(f-s)/u,p=Pn(([,,T])=>T).right(i,g);if(p===i.length)return e.every(Ft(s/dt,f/dt,u));if(p===0)return it.every(Math.max(Ft(s,f,u),1));const[m,M]=i[g/i[p-1][2]<i[p][2]/g?p-1:p];return m.every(M)}return[h,c]}const[hr,mr]=fr(Se,xt,ft,qe,Dt,kt);function _t(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function yt(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function je(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function gr(e){var t=e.dateTime,n=e.date,r=e.time,o=e.periods,l=e.days,i=e.shortDays,h=e.months,c=e.shortMonths,s=$e(o),f=Qe(o),u=$e(l),g=Qe(l),p=$e(i),m=Qe(i),M=$e(h),T=Qe(h),F=$e(c),I=Qe(c),A={a:pe,A:G,b:we,B:X,c:null,d:It,e:It,f:zr,g:$r,G:Zr,H:Lr,I:Hr,j:Yr,L:xn,m:Vr,M:Wr,p:ge,q:te,Q:Pt,s:Gt,S:Nr,u:Ir,U:Br,V:Rr,w:Pr,W:Gr,x:null,X:null,y:jr,Y:Qr,Z:qr,"%":Rt},V={a:y,A:H,b:v,B:Q,c:null,d:Bt,e:Bt,f:eo,g:co,G:ho,H:Jr,I:Xr,j:Kr,L:En,m:to,M:no,p:Fe,q:Ae,Q:Pt,s:Gt,S:ro,u:oo,U:io,V:lo,w:ao,W:uo,x:null,X:null,y:so,Y:fo,Z:mo,"%":Rt},U={a:he,A:W,b:K,B:Ce,c:Ee,d:Wt,e:Wt,f:Er,g:Vt,G:zt,H:Nt,I:Nt,j:Dr,L:Sr,m:kr,M:Ur,p:oe,q:Cr,Q:Ar,s:Or,S:xr,u:vr,U:wr,V:br,w:pr,W:Tr,x:me,X:ee,y:Vt,Y:zt,Z:Mr,"%":Fr};A.x=C(n,A),A.X=C(r,A),A.c=C(t,A),V.x=C(n,V),V.X=C(r,V),V.c=C(t,V);function C(b,x){return function(S){var _=[],ne=-1,Y=0,re=b.length,z,Me,We;for(S instanceof Date||(S=new Date(+S));++ne<re;)b.charCodeAt(ne)===37&&(_.push(b.slice(Y,ne)),(Me=Yt[z=b.charAt(++ne)])!=null?z=b.charAt(++ne):Me=z==="e"?" ":"0",(We=x[z])&&(z=We(S,Me)),_.push(z),Y=ne+1);return _.push(b.slice(Y,ne)),_.join("")}}function k(b,x){return function(S){var _=je(1900,void 0,1),ne=P(_,b,S+="",0),Y,re;if(ne!=S.length)return null;if("Q"in _)return new Date(_.Q);if("s"in _)return new Date(_.s*1e3+("L"in _?_.L:0));if(x&&!("Z"in _)&&(_.Z=0),"p"in _&&(_.H=_.H%12+_.p*12),_.m===void 0&&(_.m="q"in _?_.q:0),"V"in _){if(_.V<1||_.V>53)return null;"w"in _||(_.w=1),"Z"in _?(Y=yt(je(_.y,0,1)),re=Y.getUTCDay(),Y=re>4||re===0?at.ceil(Y):at(Y),Y=Ut.offset(Y,(_.V-1)*7),_.y=Y.getUTCFullYear(),_.m=Y.getUTCMonth(),_.d=Y.getUTCDate()+(_.w+6)%7):(Y=_t(je(_.y,0,1)),re=Y.getDay(),Y=re>4||re===0?lt.ceil(Y):lt(Y),Y=qe.offset(Y,(_.V-1)*7),_.y=Y.getFullYear(),_.m=Y.getMonth(),_.d=Y.getDate()+(_.w+6)%7)}else("W"in _||"U"in _)&&("w"in _||(_.w="u"in _?_.u%7:"W"in _?1:0),re="Z"in _?yt(je(_.y,0,1)).getUTCDay():_t(je(_.y,0,1)).getDay(),_.m=0,_.d="W"in _?(_.w+6)%7+_.W*7-(re+5)%7:_.w+_.U*7-(re+6)%7);return"Z"in _?(_.H+=_.Z/100|0,_.M+=_.Z%100,yt(_)):_t(_)}}function P(b,x,S,_){for(var ne=0,Y=x.length,re=S.length,z,Me;ne<Y;){if(_>=re)return-1;if(z=x.charCodeAt(ne++),z===37){if(z=x.charAt(ne++),Me=U[z in Yt?x.charAt(ne++):z],!Me||(_=Me(b,S,_))<0)return-1}else if(z!=S.charCodeAt(_++))return-1}return _}function oe(b,x,S){var _=s.exec(x.slice(S));return _?(b.p=f.get(_[0].toLowerCase()),S+_[0].length):-1}function he(b,x,S){var _=p.exec(x.slice(S));return _?(b.w=m.get(_[0].toLowerCase()),S+_[0].length):-1}function W(b,x,S){var _=u.exec(x.slice(S));return _?(b.w=g.get(_[0].toLowerCase()),S+_[0].length):-1}function K(b,x,S){var _=F.exec(x.slice(S));return _?(b.m=I.get(_[0].toLowerCase()),S+_[0].length):-1}function Ce(b,x,S){var _=M.exec(x.slice(S));return _?(b.m=T.get(_[0].toLowerCase()),S+_[0].length):-1}function Ee(b,x,S){return P(b,t,x,S)}function me(b,x,S){return P(b,n,x,S)}function ee(b,x,S){return P(b,r,x,S)}function pe(b){return i[b.getDay()]}function G(b){return l[b.getDay()]}function we(b){return c[b.getMonth()]}function X(b){return h[b.getMonth()]}function ge(b){return o[+(b.getHours()>=12)]}function te(b){return 1+~~(b.getMonth()/3)}function y(b){return i[b.getUTCDay()]}function H(b){return l[b.getUTCDay()]}function v(b){return c[b.getUTCMonth()]}function Q(b){return h[b.getUTCMonth()]}function Fe(b){return o[+(b.getUTCHours()>=12)]}function Ae(b){return 1+~~(b.getUTCMonth()/3)}return{format:function(b){var x=C(b+="",A);return x.toString=function(){return b},x},parse:function(b){var x=k(b+="",!1);return x.toString=function(){return b},x},utcFormat:function(b){var x=C(b+="",V);return x.toString=function(){return b},x},utcParse:function(b){var x=k(b+="",!0);return x.toString=function(){return b},x}}}var Yt={"-":"",_:" ",0:"0"},se=/^\s*\d+/,dr=/^%/,_r=/[\\^$*+?|[\]().{}]/g;function N(e,t,n){var r=e<0?"-":"",o=(r?-e:e)+"",l=o.length;return r+(l<n?new Array(n-l+1).join(t)+o:o)}function yr(e){return e.replace(_r,"\\$&")}function $e(e){return new RegExp("^(?:"+e.map(yr).join("|")+")","i")}function Qe(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function pr(e,t,n){var r=se.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function vr(e,t,n){var r=se.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function wr(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function br(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Tr(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function zt(e,t,n){var r=se.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Vt(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Mr(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Cr(e,t,n){var r=se.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function kr(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Wt(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Dr(e,t,n){var r=se.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Nt(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Ur(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function xr(e,t,n){var r=se.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Sr(e,t,n){var r=se.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Er(e,t,n){var r=se.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Fr(e,t,n){var r=dr.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Ar(e,t,n){var r=se.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Or(e,t,n){var r=se.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function It(e,t){return N(e.getDate(),t,2)}function Lr(e,t){return N(e.getHours(),t,2)}function Hr(e,t){return N(e.getHours()%12||12,t,2)}function Yr(e,t){return N(1+qe.count(Se(e),e),t,3)}function xn(e,t){return N(e.getMilliseconds(),t,3)}function zr(e,t){return xn(e,t)+"000"}function Vr(e,t){return N(e.getMonth()+1,t,2)}function Wr(e,t){return N(e.getMinutes(),t,2)}function Nr(e,t){return N(e.getSeconds(),t,2)}function Ir(e){var t=e.getDay();return t===0?7:t}function Br(e,t){return N(ft.count(Se(e)-1,e),t,2)}function Sn(e){var t=e.getDay();return t>=4||t===0?Be(e):Be.ceil(e)}function Rr(e,t){return e=Sn(e),N(Be.count(Se(e),e)+(Se(e).getDay()===4),t,2)}function Pr(e){return e.getDay()}function Gr(e,t){return N(lt.count(Se(e)-1,e),t,2)}function jr(e,t){return N(e.getFullYear()%100,t,2)}function $r(e,t){return e=Sn(e),N(e.getFullYear()%100,t,2)}function Qr(e,t){return N(e.getFullYear()%1e4,t,4)}function Zr(e,t){var n=e.getDay();return e=n>=4||n===0?Be(e):Be.ceil(e),N(e.getFullYear()%1e4,t,4)}function qr(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+N(t/60|0,"0",2)+N(t%60,"0",2)}function Bt(e,t){return N(e.getUTCDate(),t,2)}function Jr(e,t){return N(e.getUTCHours(),t,2)}function Xr(e,t){return N(e.getUTCHours()%12||12,t,2)}function Kr(e,t){return N(1+Ut.count(Ye(e),e),t,3)}function En(e,t){return N(e.getUTCMilliseconds(),t,3)}function eo(e,t){return En(e,t)+"000"}function to(e,t){return N(e.getUTCMonth()+1,t,2)}function no(e,t){return N(e.getUTCMinutes(),t,2)}function ro(e,t){return N(e.getUTCSeconds(),t,2)}function oo(e){var t=e.getUTCDay();return t===0?7:t}function io(e,t){return N(Un.count(Ye(e)-1,e),t,2)}function Fn(e){var t=e.getUTCDay();return t>=4||t===0?Re(e):Re.ceil(e)}function lo(e,t){return e=Fn(e),N(Re.count(Ye(e),e)+(Ye(e).getUTCDay()===4),t,2)}function ao(e){return e.getUTCDay()}function uo(e,t){return N(at.count(Ye(e)-1,e),t,2)}function so(e,t){return N(e.getUTCFullYear()%100,t,2)}function co(e,t){return e=Fn(e),N(e.getUTCFullYear()%100,t,2)}function fo(e,t){return N(e.getUTCFullYear()%1e4,t,4)}function ho(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Re(e):Re.ceil(e),N(e.getUTCFullYear()%1e4,t,4)}function mo(){return"+0000"}function Rt(){return"%"}function Pt(e){return+e}function Gt(e){return Math.floor(+e/1e3)}var Ne,An,On;go({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function go(e){return Ne=gr(e),An=Ne.format,On=Ne.parse,Ne.utcFormat,Ne.utcParse,Ne}function _o(e){return new Date(e)}function yo(e){return e instanceof Date?+e:+new Date(+e)}function Ln(e,t,n,r,o,l,i,h,c,s){var f=Gn(),u=f.invert,g=f.domain,p=s(".%L"),m=s(":%S"),M=s("%I:%M"),T=s("%I %p"),F=s("%a %d"),I=s("%b %d"),A=s("%B"),V=s("%Y");function U(C){return(c(C)<C?p:h(C)<C?m:i(C)<C?M:l(C)<C?T:r(C)<C?o(C)<C?F:I:n(C)<C?A:V)(C)}return f.invert=function(C){return new Date(u(C))},f.domain=function(C){return arguments.length?g(Array.from(C,yo)):g().map(_o)},f.ticks=function(C){var k=g();return e(k[0],k[k.length-1],C??10)},f.tickFormat=function(C,k){return k==null?U:s(k)},f.nice=function(C){var k=g();return(!C||typeof C.range!="function")&&(C=t(k[0],k[k.length-1],C??10)),C?g(kn(k,C)):f},f.copy=function(){return Cn(f,Ln(e,t,n,r,o,l,i,h,c,s))},f}function po(){return Mn.apply(Ln(hr,mr,Se,xt,ft,qe,Dt,kt,Ie,An).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}const vo=!0,Ko=Object.freeze(Object.defineProperty({__proto__:null,prerender:vo},Symbol.toStringTag,{value:"Module"}));function jt(e,t,n){const r=e.slice();return r[19]=t[n],r[21]=n,r}function $t(e,t,n){const r=e.slice();return r[22]=t[n],r}function Qt(e,t,n){const r=e.slice();return r[25]=t[n],r}function Zt(e,t,n){const r=e.slice();return r[25]=t[n],r}function qt(e){let t,n=e[25]+"",r,o,l,i,h;function c(){return e[15](e[25])}return{c(){t=O("div"),r=ie(n),o=q(),this.h()},l(s){t=L(s,"DIV",{class:!0});var f=E(t);r=le(f,n),o=J(f),f.forEach(d),this.h()},h(){a(t,"class",l=ot(e[25]===e[0]?"option-selected":"option-not-selected")+" svelte-19rgk4g")},m(s,f){D(s,t,f),w(t,r),w(t,o),i||(h=Tn(t,"click",c),i=!0)},p(s,f){e=s,f&1&&l!==(l=ot(e[25]===e[0]?"option-selected":"option-not-selected")+" svelte-19rgk4g")&&a(t,"class",l)},d(s){s&&d(t),i=!1,h()}}}function Jt(e){let t,n=e[25]+"",r,o,l,i,h;function c(){return e[16](e[25])}return{c(){t=O("div"),r=ie(n),o=q(),this.h()},l(s){t=L(s,"DIV",{class:!0});var f=E(t);r=le(f,n),o=J(f),f.forEach(d),this.h()},h(){a(t,"class",l=ot(e[25]===e[2]?"option-selected":"option-not-selected")+" svelte-19rgk4g")},m(s,f){D(s,t,f),w(t,r),w(t,o),i||(h=Tn(t,"click",c),i=!0)},p(s,f){e=s,f&4&&l!==(l=ot(e[25]===e[2]?"option-selected":"option-not-selected")+" svelte-19rgk4g")&&a(t,"class",l)},d(s){s&&d(t),i=!1,h()}}}function Xt(e){let t,n,r,o,l=en(e[22])+"",i,h;return{c(){t=B("line"),o=B("text"),i=ie(l),this.h()},l(c){t=R(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),E(t).forEach(d),o=R(c,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var s=E(o);i=le(s,l),s.forEach(d),this.h()},h(){a(t,"x1",n=e[4](e[22])),a(t,"y1","25"),a(t,"x2",r=e[4](e[22])),a(t,"y2",e[10]),ye(t,"stroke","#8EB6DC"),ye(t,"stroke-width","1"),ye(t,"opacity","0.5"),a(o,"x",h=e[4](e[22])),a(o,"y","20"),a(o,"id","labelBar"),a(o,"text-anchor","middle"),a(o,"font-size","16"),a(o,"class","svelte-19rgk4g")},m(c,s){D(c,t,s),D(c,o,s),w(o,i)},p(c,s){s&24&&n!==(n=c[4](c[22]))&&a(t,"x1",n),s&24&&r!==(r=c[4](c[22]))&&a(t,"x2",r),s&8&&l!==(l=en(c[22])+"")&&Ue(i,l),s&24&&h!==(h=c[4](c[22]))&&a(o,"x",h)},d(c){c&&(d(t),d(o))}}}function Kt(e){let t,n=e[19].GEO.split(",")[0]+"",r,o,l=e[19].conv+"",i,h,c=Math.round(100*e[19].per)+"",s,f,u,g,p;return{c(){t=B("text"),r=ie(n),o=ie(": "),i=ie(l),h=ie(" ("),s=ie(c),f=ie("%)"),u=B("rect"),this.h()},l(m){t=R(m,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var M=E(t);r=le(M,n),o=le(M,": "),i=le(M,l),h=le(M," ("),s=le(M,c),f=le(M,"%)"),M.forEach(d),u=R(m,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),E(u).forEach(d),this.h()},h(){a(t,"x","0"),a(t,"y",e[21]*32+43),a(t,"id","labelBar"),a(t,"text-anchor","start"),a(t,"font-size","16"),a(t,"class","svelte-19rgk4g"),a(u,"id","bar"),a(u,"x",0),a(u,"y",e[21]*32+47),a(u,"height",8),a(u,"width",g=e[4](e[19].conv)),a(u,"fill",p=e[19].colour)},m(m,M){D(m,t,M),w(t,r),w(t,o),w(t,i),w(t,h),w(t,s),w(t,f),D(m,u,M)},p(m,M){M&32&&n!==(n=m[19].GEO.split(",")[0]+"")&&Ue(r,n),M&32&&l!==(l=m[19].conv+"")&&Ue(i,l),M&32&&c!==(c=Math.round(100*m[19].per)+"")&&Ue(s,c),M&48&&g!==(g=m[4](m[19].conv))&&a(u,"width",g),M&32&&p!==(p=m[19].colour)&&a(u,"fill",p)},d(m){m&&(d(t),d(u))}}}function wo(e){let t,n="Total and percent of new dwellings from building conversions",r,o,l,i,h,c,s,f,u,g,p,m,M,T,F,I,A,V,U,C,k,P,oe,he,W,K,Ce,Ee,me=$(e[6]),ee=[];for(let y=0;y<me.length;y+=1)ee[y]=qt(Zt(e,me,y));let pe=$(e[8]),G=[];for(let y=0;y<pe.length;y+=1)G[y]=Jt(Qt(e,pe,y));let we=$(e[3]),X=[];for(let y=0;y<we.length;y+=1)X[y]=Xt($t(e,we,y));let ge=$(e[5]),te=[];for(let y=0;y<ge.length;y+=1)te[y]=Kt(jt(e,ge,y));return{c(){t=O("h3"),t.textContent=n,r=q(),o=B("svg"),l=B("text"),i=ie("01/2019 to 12/2023 (5 years total)"),h=q(),c=B("svg"),s=B("text"),f=ie("% of all new units from conversions"),u=B("rect"),g=B("rect"),p=B("rect"),m=B("text"),M=ie("5%"),T=B("text"),F=ie("10%"),I=q(),A=B("svg"),V=B("text"),U=ie("# of new units just from conversions"),C=q(),k=O("div");for(let y=0;y<ee.length;y+=1)ee[y].c();P=q(),oe=O("div");for(let y=0;y<G.length;y+=1)G[y].c();he=q(),W=O("div"),K=B("svg");for(let y=0;y<X.length;y+=1)X[y].c();Ce=ae();for(let y=0;y<te.length;y+=1)te[y].c();this.h()},l(y){t=L(y,"H3",{"data-svelte-h":!0}),be(t)!=="svelte-n00m8l"&&(t.textContent=n),r=J(y),o=R(y,"svg",{id:!0,height:!0,width:!0,class:!0});var H=E(o);l=R(H,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var v=E(l);i=le(v,"01/2019 to 12/2023 (5 years total)"),v.forEach(d),H.forEach(d),h=J(y),c=R(y,"svg",{id:!0,height:!0,width:!0,class:!0});var Q=E(c);s=R(Q,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var Fe=E(s);f=le(Fe,"% of all new units from conversions"),Fe.forEach(d),u=R(Q,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),E(u).forEach(d),g=R(Q,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),E(g).forEach(d),p=R(Q,"rect",{id:!0,x:!0,y:!0,height:!0,width:!0,fill:!0}),E(p).forEach(d),m=R(Q,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var Ae=E(m);M=le(Ae,"5%"),Ae.forEach(d),T=R(Q,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var b=E(T);F=le(b,"10%"),b.forEach(d),Q.forEach(d),I=J(y),A=R(y,"svg",{id:!0,height:!0,width:!0,class:!0});var x=E(A);V=R(x,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var S=E(V);U=le(S,"# of new units just from conversions"),S.forEach(d),x.forEach(d),C=J(y),k=L(y,"DIV",{class:!0});var _=E(k);for(let z=0;z<ee.length;z+=1)ee[z].l(_);_.forEach(d),P=J(y),oe=L(y,"DIV",{class:!0});var ne=E(oe);for(let z=0;z<G.length;z+=1)G[z].l(ne);ne.forEach(d),he=J(y),W=L(y,"DIV",{class:!0});var Y=E(W);K=R(Y,"svg",{height:!0,width:!0,id:!0});var re=E(K);for(let z=0;z<X.length;z+=1)X[z].l(re);Ce=ae();for(let z=0;z<te.length;z+=1)te[z].l(re);re.forEach(d),Y.forEach(d),this.h()},h(){a(l,"x","0"),a(l,"y","12"),a(l,"id","labelBar"),a(l,"text-anchor","start"),a(l,"font-size","16"),a(l,"class","svelte-19rgk4g"),a(o,"id","years"),a(o,"height","35"),a(o,"width",e[1]),a(o,"class","svelte-19rgk4g"),a(s,"x","0"),a(s,"y","12"),a(s,"id","labelBar"),a(s,"text-anchor","start"),a(s,"font-size","16"),a(s,"class","svelte-19rgk4g"),a(u,"id","legendBar"),a(u,"x",0),a(u,"y",22),a(u,"height",8),a(u,"width",99),a(u,"fill","#F1C500"),a(g,"id","legendBar"),a(g,"x",101),a(g,"y",22),a(g,"height",8),a(g,"width",99),a(g,"fill","#ce6c35"),a(p,"id","legendBar"),a(p,"x",202),a(p,"y",22),a(p,"height",8),a(p,"width",99),a(p,"fill","#ab1269"),a(m,"x","100"),a(m,"y","44"),a(m,"id","labelBar"),a(m,"text-anchor","middle"),a(m,"font-size","16"),a(m,"class","svelte-19rgk4g"),a(T,"x","200"),a(T,"y","44"),a(T,"id","labelBar"),a(T,"text-anchor","middle"),a(T,"font-size","16"),a(T,"class","svelte-19rgk4g"),a(c,"id","legend"),a(c,"height","50"),a(c,"width",e[1]),a(c,"class","svelte-19rgk4g"),a(V,"x","0"),a(V,"y","12"),a(V,"id","labelBar"),a(V,"text-anchor","start"),a(V,"font-size","16"),a(V,"class","svelte-19rgk4g"),a(A,"id","legend"),a(A,"height","15"),a(A,"width",e[1]),a(A,"class","svelte-19rgk4g"),a(k,"class","options-container svelte-19rgk4g"),a(oe,"class","options-container svelte-19rgk4g"),a(K,"height",e[10]),a(K,"width",e[1]),a(K,"id","svgChart"),a(W,"class","chart-wrapper"),Yn(()=>e[17].call(W))},m(y,H){D(y,t,H),D(y,r,H),D(y,o,H),w(o,l),w(l,i),D(y,h,H),D(y,c,H),w(c,s),w(s,f),w(c,u),w(c,g),w(c,p),w(c,m),w(m,M),w(c,T),w(T,F),D(y,I,H),D(y,A,H),w(A,V),w(V,U),D(y,C,H),D(y,k,H);for(let v=0;v<ee.length;v+=1)ee[v]&&ee[v].m(k,null);D(y,P,H),D(y,oe,H);for(let v=0;v<G.length;v+=1)G[v]&&G[v].m(oe,null);D(y,he,H),D(y,W,H),w(W,K);for(let v=0;v<X.length;v+=1)X[v]&&X[v].m(K,null);w(K,Ce);for(let v=0;v<te.length;v+=1)te[v]&&te[v].m(K,null);Ee=zn(W,e[17].bind(W))},p(y,[H]){if(H&2&&a(o,"width",y[1]),H&2&&a(c,"width",y[1]),H&2&&a(A,"width",y[1]),H&193){me=$(y[6]);let v;for(v=0;v<me.length;v+=1){const Q=Zt(y,me,v);ee[v]?ee[v].p(Q,H):(ee[v]=qt(Q),ee[v].c(),ee[v].m(k,null))}for(;v<ee.length;v+=1)ee[v].d(1);ee.length=me.length}if(H&772){pe=$(y[8]);let v;for(v=0;v<pe.length;v+=1){const Q=Qt(y,pe,v);G[v]?G[v].p(Q,H):(G[v]=Jt(Q),G[v].c(),G[v].m(oe,null))}for(;v<G.length;v+=1)G[v].d(1);G.length=pe.length}if(H&1048){we=$(y[3]);let v;for(v=0;v<we.length;v+=1){const Q=$t(y,we,v);X[v]?X[v].p(Q,H):(X[v]=Xt(Q),X[v].c(),X[v].m(K,Ce))}for(;v<X.length;v+=1)X[v].d(1);X.length=we.length}if(H&48){ge=$(y[5]);let v;for(v=0;v<ge.length;v+=1){const Q=jt(y,ge,v);te[v]?te[v].p(Q,H):(te[v]=Kt(Q),te[v].c(),te[v].m(K,null))}for(;v<te.length;v+=1)te[v].d(1);te.length=ge.length}H&2&&a(K,"width",y[1])},i:Te,o:Te,d(y){y&&(d(t),d(r),d(o),d(h),d(c),d(I),d(A),d(C),d(k),d(P),d(oe),d(he),d(W)),_e(ee,y),_e(G,y),_e(X,y),_e(te,y),Ee()}}}function en(e){return e>999?e%1e3===0?(e/1e3).toFixed(0)+"k":(e/1e3).toFixed(1)+"k":e}function bo(e,t,n){let r,o,l,{data:i}=t,{cities:h}=t,c="Log Scale",s=["Linear Scale","Log Scale"];function f(U){n(0,c=U)}let u="Sort by #",g=["Sort by #","Sort by %"];function p(U){n(2,u=U),U==="Sort by #"?n(5,l=l.sort((C,k)=>k.conv-C.conv||k.per-C.per)):n(5,l=l.sort((C,k)=>k.per-C.per||k.conv-C.conv)),console.log(l)}let m,M=300+40*25,T,F;const I=U=>f(U),A=U=>p(U);function V(){m=this.offsetWidth,n(1,m)}return e.$$set=U=>{"data"in U&&n(11,i=U.data),"cities"in U&&n(12,h=U.cities)},e.$$.update=()=>{e.$$.dirty&2048&&n(14,r=Tt(i,U=>U.GEO,U=>U.Type)),e.$$.dirty&16384&&n(13,o=Array.from(r,([U,C])=>({GEO:U,sums:Array.from(C,([k,P])=>({Type:k,sumValue:Mt(P,oe=>oe.VALUE)}))}))),e.$$.dirty&12288&&n(13,o=o.filter(U=>h.slice(1).includes(U.GEO))),e.$$.dirty&8192&&n(5,l=o.map(U=>{const C=U.sums.filter(he=>he.Type!=="new").reduce((he,W)=>he+W.sumValue,0),k=U.sums.reduce((he,W)=>he+W.sumValue,0),P=k!==0?C/k:0;let oe;return P<.05?oe="#F1C500":P<.1?oe="#ce6c35":oe="#ab1269",{GEO:U.GEO,conv:C,per:P,colour:oe}}).sort((U,C)=>C.conv-U.conv)),e.$$.dirty&3&&(c==="Log Scale"?(n(4,F=Dn().domain([100,65e3]).range([0,m])),n(3,T=[500,1e3,5e3,1e4,5e4])):(n(4,F=bt().domain([1,42e3]).range([0,m])),n(3,T=[1e4,2e4,3e4,4e4])))},[c,m,u,T,F,l,s,f,g,p,M,i,h,o,r,I,A,V]}class To extends st{constructor(t){super(),ct(this,t,bo,wo,ut,{data:11,cities:12})}}function tn(e,t,n){const r=e.slice();return r[7]=t[n],r}function Mo(e,t,n){const r=e.slice();return r[10]=t[n],r[12]=n,r}function Co(e,t,n){const r=e.slice();return r[13]=t[n],r}function nn(e,t,n){const r=e.slice();return r[16]=t[n],r}function rn(e,t,n){const r=e.slice();return r[10]=t[n],r}function on(e,t,n){const r=e.slice();return r[21]=t[n],r}function ln(e){let t=(e[4]=bt().domain([0,e[16].mean*2.25]).range([115,25]))+"",n,r,o,l=$(e[16].sums),i=[];for(let s=0;s<l.length;s+=1)i[s]=an(on(e,l,s));let h=$(["2019","2020","2021","2022","2023"]),c=[];for(let s=0;s<5;s+=1)c[s]=un(rn(e,h,s));return{c(){n=ie(t);for(let s=0;s<i.length;s+=1)i[s].c();r=ae();for(let s=0;s<5;s+=1)c[s].c();o=ae()},l(s){n=le(s,t);for(let f=0;f<i.length;f+=1)i[f].l(s);r=ae();for(let f=0;f<5;f+=1)c[f].l(s);o=ae()},m(s,f){D(s,n,f);for(let u=0;u<i.length;u+=1)i[u]&&i[u].m(s,f);D(s,r,f);for(let u=0;u<5;u+=1)c[u]&&c[u].m(s,f);D(s,o,f)},p(s,f){if(f&2&&t!==(t=(s[4]=bt().domain([0,s[16].mean*2.25]).range([115,25]))+"")&&Ue(n,t),f&22){l=$(s[16].sums);let u;for(u=0;u<l.length;u+=1){const g=on(s,l,u);i[u]?i[u].p(g,f):(i[u]=an(g),i[u].c(),i[u].m(r.parentNode,r))}for(;u<i.length;u+=1)i[u].d(1);i.length=l.length}if(f&30){h=$(["2019","2020","2021","2022","2023"]);let u;for(u=0;u<5;u+=1){const g=rn(s,h,u);c[u]?c[u].p(g,f):(c[u]=un(g),c[u].c(),c[u].m(o.parentNode,o))}for(;u<5;u+=1)c[u].d(1)}},d(s){s&&(d(n),d(r),d(o)),_e(i,s),_e(c,s)}}}function an(e){let t,n,r,o;return{c(){t=B("line"),this.h()},l(l){t=R(l,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),E(t).forEach(d),this.h()},h(){a(t,"x1",n=e[2](e[21].date)),a(t,"y1",r=e[4](e[21].sumValue)),a(t,"x2",o=e[2](e[21].date)),a(t,"y2",115),ye(t,"stroke","#F1C500"),ye(t,"stroke-width","3"),ye(t,"opacity","0.42")},m(l,i){D(l,t,i)},p(l,i){i&6&&n!==(n=l[2](l[21].date))&&a(t,"x1",n),i&2&&r!==(r=l[4](l[21].sumValue))&&a(t,"y1",r),i&6&&o!==(o=l[2](l[21].date))&&a(t,"x2",o)},d(l){l&&d(t)}}}function ko(e){let t,n,r,o,l=Math.round(e[16].yearlyData[e[10]].sum)+"",i,h;return{c(){t=B("line"),o=B("text"),i=ie(l),this.h()},l(c){t=R(c,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),E(t).forEach(d),o=R(c,"text",{x:!0,y:!0,"text-anchor":!0,id:!0,"font-size":!0,class:!0});var s=E(o);i=le(s,l),s.forEach(d),this.h()},h(){a(t,"x1",n=e[2](e[3](e[10]+"-01"))),a(t,"y1","35"),a(t,"x2",r=e[2](e[3](e[10]+"-12"))),a(t,"y2","35"),ye(t,"stroke","#ab1269"),ye(t,"stroke-width","2"),a(o,"x",h=e[2](e[3](e[10]+"-01"))+27.6/2),a(o,"y","33"),a(o,"text-anchor","middle"),a(o,"id","avgLabel"),a(o,"font-size","12"),a(o,"class","svelte-1czd5nw")},m(c,s){D(c,t,s),D(c,o,s),w(o,i)},p(c,s){s&4&&n!==(n=c[2](c[3](c[10]+"-01")))&&a(t,"x1",n),s&4&&r!==(r=c[2](c[3](c[10]+"-12")))&&a(t,"x2",r),s&2&&l!==(l=Math.round(c[16].yearlyData[c[10]].sum)+"")&&Ue(i,l),s&4&&h!==(h=c[2](c[3](c[10]+"-01"))+27.6/2)&&a(o,"x",h)},d(c){c&&(d(t),d(o))}}}function Do(e){let t,n,r,o,l,i,h=Math.round(e[16].yearlyData[e[10]].sum)+"",c,s,f;return{c(){t=B("line"),i=B("text"),c=ie(h),this.h()},l(u){t=R(u,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),E(t).forEach(d),i=R(u,"text",{x:!0,y:!0,"text-anchor":!0,id:!0,"font-size":!0,class:!0});var g=E(i);c=le(g,h),g.forEach(d),this.h()},h(){a(t,"x1",n=e[2](e[3](e[10]+"-01"))),a(t,"y1",r=e[4](e[16].yearlyData[e[10]].sum/e[16].yearlyData[e[10]].count)),a(t,"x2",o=e[2](e[3](e[10]+"-12"))),a(t,"y2",l=e[4](e[16].yearlyData[e[10]].sum/e[16].yearlyData[e[10]].count)),ye(t,"stroke","#ab1269"),ye(t,"stroke-width","2"),a(i,"x",s=e[2](e[3](e[10]+"-01"))+27.6/2),a(i,"y",f=e[4](e[16].yearlyData[e[10]].sum/e[16].yearlyData[e[10]].count)-2),a(i,"text-anchor","middle"),a(i,"id","avgLabel"),a(i,"font-size","12"),a(i,"class","svelte-1czd5nw")},m(u,g){D(u,t,g),D(u,i,g),w(i,c)},p(u,g){g&4&&n!==(n=u[2](u[3](u[10]+"-01")))&&a(t,"x1",n),g&2&&r!==(r=u[4](u[16].yearlyData[u[10]].sum/u[16].yearlyData[u[10]].count))&&a(t,"y1",r),g&4&&o!==(o=u[2](u[3](u[10]+"-12")))&&a(t,"x2",o),g&2&&l!==(l=u[4](u[16].yearlyData[u[10]].sum/u[16].yearlyData[u[10]].count))&&a(t,"y2",l),g&2&&h!==(h=Math.round(u[16].yearlyData[u[10]].sum)+"")&&Ue(c,h),g&4&&s!==(s=u[2](u[3](u[10]+"-01"))+27.6/2)&&a(i,"x",s),g&2&&f!==(f=u[4](u[16].yearlyData[u[10]].sum/u[16].yearlyData[u[10]].count)-2)&&a(i,"y",f)},d(u){u&&(d(t),d(i))}}}function un(e){let t,n;function r(i,h){return h&2&&(t=null),t==null&&(t=i[4](i[16].yearlyData[i[10]].sum/i[16].yearlyData[i[10]].count)>35),t?Do:ko}let o=r(e,-1),l=o(e);return{c(){l.c(),n=ae()},l(i){l.l(i),n=ae()},m(i,h){l.m(i,h),D(i,n,h)},p(i,h){o===(o=r(i,h))&&l?l.p(i,h):(l.d(1),l=o(i),l&&(l.c(),l.m(n.parentNode,n)))},d(i){i&&d(n),l.d(i)}}}function sn(e){let t,n=e[7]===e[16].GEO&&ln(e);return{c(){n&&n.c(),t=ae()},l(r){n&&n.l(r),t=ae()},m(r,o){n&&n.m(r,o),D(r,t,o)},p(r,o){r[7]===r[16].GEO?n?n.p(r,o):(n=ln(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&d(t),n&&n.d(r)}}}function Uo(e){let t;return{c(){t=B("line"),this.h()},l(n){t=R(n,"line",{x1:!0,y1:!0,x2:!0,y2:!0,style:!0}),E(t).forEach(d),this.h()},h(){a(t,"x1",6+e[13]*27.6),a(t,"y1","115"),a(t,"x2",6+e[13]*27.6),a(t,"y2","120"),ye(t,"stroke","#1470ad"),ye(t,"stroke-width","1")},m(n,r){D(n,t,r)},p:Te,d(n){n&&d(t)}}}function xo(e){let t,n;return{c(){t=B("text"),n=ie(e[10]),this.h()},l(r){t=R(r,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var o=E(t);n=le(o,e[10]),o.forEach(d),this.h()},h(){a(t,"x",20+e[12]*27.6),a(t,"y","127"),a(t,"id","cityLabel"),a(t,"text-anchor","middle"),a(t,"font-size","15"),a(t,"class","svelte-1czd5nw")},m(r,o){D(r,t,o),w(t,n)},p:Te,d(r){r&&d(t)}}}function cn(e){let t,n,r,o=e[7].split(",")[0]+"",l,i,h,c=$(e[1]),s=[];for(let m=0;m<c.length;m+=1)s[m]=sn(nn(e,c,m));let f=$([0,1,2,3,4,5]),u=[];for(let m=0;m<6;m+=1)u[m]=Uo(Co(e,f,m));let g=$([19,20,21,22,23]),p=[];for(let m=0;m<5;m+=1)p[m]=xo(Mo(e,g,m));return{c(){t=O("div"),n=B("svg");for(let m=0;m<s.length;m+=1)s[m].c();r=B("text"),l=ie(o);for(let m=0;m<6;m+=1)u[m].c();i=ae();for(let m=0;m<5;m+=1)p[m].c();h=q(),this.h()},l(m){t=L(m,"DIV",{class:!0});var M=E(t);n=R(M,"svg",{height:!0,width:!0,id:!0});var T=E(n);for(let I=0;I<s.length;I+=1)s[I].l(T);r=R(T,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var F=E(r);l=le(F,o),F.forEach(d);for(let I=0;I<6;I+=1)u[I].l(T);i=ae();for(let I=0;I<5;I+=1)p[I].l(T);T.forEach(d),h=J(M),M.forEach(d),this.h()},h(){a(r,"x","5"),a(r,"y",20),a(r,"id","cityLabel"),a(r,"text-anchor","start"),a(r,"font-size","15"),a(r,"class","svelte-1czd5nw"),a(n,"height",145),a(n,"width",145),a(n,"id","svgChart"),a(t,"class","chart svelte-1czd5nw")},m(m,M){D(m,t,M),w(t,n);for(let T=0;T<s.length;T+=1)s[T]&&s[T].m(n,null);w(n,r),w(r,l);for(let T=0;T<6;T+=1)u[T]&&u[T].m(n,null);w(n,i);for(let T=0;T<5;T+=1)p[T]&&p[T].m(n,null);w(t,h)},p(m,M){if(M&31){c=$(m[1]);let T;for(T=0;T<c.length;T+=1){const F=nn(m,c,T);s[T]?s[T].p(F,M):(s[T]=sn(F),s[T].c(),s[T].m(n,r))}for(;T<s.length;T+=1)s[T].d(1);s.length=c.length}M&1&&o!==(o=m[7].split(",")[0]+"")&&Ue(l,o)},d(m){m&&d(t),_e(s,m),_e(u,m),_e(p,m)}}}function So(e){let t,n=$(e[0]),r=[];for(let o=0;o<n.length;o+=1)r[o]=cn(tn(e,n,o));return{c(){t=O("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){t=L(o,"DIV",{id:!0,class:!0});var l=E(t);for(let i=0;i<r.length;i+=1)r[i].l(l);l.forEach(d),this.h()},h(){a(t,"id","chartWrapper"),a(t,"class","svelte-1czd5nw")},m(o,l){D(o,t,l);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(t,null)},p(o,[l]){if(l&31){n=$(o[0]);let i;for(i=0;i<n.length;i+=1){const h=tn(o,n,i);r[i]?r[i].p(h,l):(r[i]=cn(h),r[i].c(),r[i].m(t,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},i:Te,o:Te,d(o){o&&d(t),_e(r,o)}}}function Eo(e,t,n){let r,o,l,{data:i}=t,{cities:h}=t;const c=On("%Y-%m");let s;return e.$$set=f=>{"data"in f&&n(5,i=f.data),"cities"in f&&n(0,h=f.cities)},e.$$.update=()=>{e.$$.dirty&32&&n(6,r=Tt(i.filter(f=>!f.Type.includes("new")),f=>f.GEO,f=>f.REF_DATE)),e.$$.dirty&64&&n(1,o=Array.from(r,([f,u])=>({GEO:f,sums:Array.from(u,([g,p])=>({date:g,sumValue:Mt(p,m=>m.VALUE)}))}))),e.$$.dirty&3&&n(1,o=o.filter(f=>h.includes(f.GEO))),e.$$.dirty&2&&o.forEach(f=>{f.sums.forEach(u=>{u.date=c(u.date)}),f.maxValue=Math.max(...f.sums.map(u=>u.sumValue)),f.mean=jn(f.sums.map(u=>u.sumValue))}),e.$$.dirty&2&&o.forEach(f=>{const u={};f.sums.forEach(g=>{const m=new Date(g.date).getUTCFullYear();u[m]||(u[m]={sum:0,count:0}),u[m].sum+=g.sumValue,u[m].count++}),f.yearlyData=u})},n(2,l=po().domain([c("2019-01"),c("2023-12")]).range([6,144])),[h,o,l,c,s,i,r]}class Fo extends st{constructor(t){super(),ct(this,t,Eo,So,ut,{data:5,cities:0})}}function fn(e,t,n){const r=e.slice();return r[5]=t[n],r}function hn(e,t,n){const r=e.slice();return r[8]=t[n],r}function mn(e,t,n){const r=e.slice();return r[11]=t[n],r[13]=n,r}function gn(e,t,n){const r=e.slice();return r[14]=t[n],r[16]=n,r}function dn(e){let t,n=$([0,1,2,3,4,5,6,7,8,9]),r=[];for(let o=0;o<10;o+=1)r[o]=yn(mn(e,n,o));return{c(){for(let o=0;o<10;o+=1)r[o].c();t=ae()},l(o){for(let l=0;l<10;l+=1)r[l].l(o);t=ae()},m(o,l){for(let i=0;i<10;i+=1)r[i]&&r[i].m(o,l);D(o,t,l)},p(o,l){if(l&2){n=$([0,1,2,3,4,5,6,7,8,9]);let i;for(i=0;i<10;i+=1){const h=mn(o,n,i);r[i]?r[i].p(h,l):(r[i]=yn(h),r[i].c(),r[i].m(t.parentNode,t))}for(;i<10;i+=1)r[i].d(1)}},d(o){o&&d(t),_e(r,o)}}}function Ao(e){let t;return{c(){t=B("rect"),this.h()},l(n){t=R(n,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),E(t).forEach(d),this.h()},h(){a(t,"x",5+Ge*e[14]),a(t,"y",25+Ge*e[11]),a(t,"width",Pe),a(t,"height",Pe),a(t,"fill","#ce6c35")},m(n,r){D(n,t,r)},p:Te,d(n){n&&d(t)}}}function Oo(e){let t;return{c(){t=B("rect"),this.h()},l(n){t=R(n,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),E(t).forEach(d),this.h()},h(){a(t,"x",5+Ge*e[14]),a(t,"y",25+Ge*e[11]),a(t,"width",Pe),a(t,"height",Pe),a(t,"fill","#F1C500")},m(n,r){D(n,t,r)},p:Te,d(n){n&&d(t)}}}function Lo(e){let t;return{c(){t=B("rect"),this.h()},l(n){t=R(n,"rect",{x:!0,y:!0,width:!0,height:!0,fill:!0}),E(t).forEach(d),this.h()},h(){a(t,"x",5+Ge*e[14]),a(t,"y",25+Ge*e[11]),a(t,"width",Pe),a(t,"height",Pe),a(t,"fill","#3597CE")},m(n,r){D(n,t,r)},p:Te,d(n){n&&d(t)}}}function _n(e){let t;function n(l,i){return l[16]+l[13]*10<l[8].PerNtoR?Lo:l[16]+l[13]*10<l[8].PerNtoR+l[8].PerStoM?Oo:Ao}let r=n(e),o=r(e);return{c(){o.c(),t=ae()},l(l){o.l(l),t=ae()},m(l,i){o.m(l,i),D(l,t,i)},p(l,i){r===(r=n(l))&&o?o.p(l,i):(o.d(1),o=r(l),o&&(o.c(),o.m(t.parentNode,t)))},d(l){l&&d(t),o.d(l)}}}function yn(e){let t,n=$([0,1,2,3,4,5,6,7,8,9]),r=[];for(let o=0;o<10;o+=1)r[o]=_n(gn(e,n,o));return{c(){for(let o=0;o<10;o+=1)r[o].c();t=ae()},l(o){for(let l=0;l<10;l+=1)r[l].l(o);t=ae()},m(o,l){for(let i=0;i<10;i+=1)r[i]&&r[i].m(o,l);D(o,t,l)},p(o,l){if(l&2){n=$([0,1,2,3,4,5,6,7,8,9]);let i;for(i=0;i<10;i+=1){const h=gn(o,n,i);r[i]?r[i].p(h,l):(r[i]=_n(h),r[i].c(),r[i].m(t.parentNode,t))}for(;i<10;i+=1)r[i].d(1)}},d(o){o&&d(t),_e(r,o)}}}function pn(e){let t,n=e[5]===e[8].GEO&&dn(e);return{c(){n&&n.c(),t=ae()},l(r){n&&n.l(r),t=ae()},m(r,o){n&&n.m(r,o),D(r,t,o)},p(r,o){r[5]===r[8].GEO?n?n.p(r,o):(n=dn(r),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},d(r){r&&d(t),n&&n.d(r)}}}function vn(e){let t,n,r,o=e[5].split(",")[0]+"",l,i,h=$(e[1]),c=[];for(let s=0;s<h.length;s+=1)c[s]=pn(hn(e,h,s));return{c(){t=O("div"),n=B("svg"),r=B("text"),l=ie(o);for(let s=0;s<c.length;s+=1)c[s].c();i=q(),this.h()},l(s){t=L(s,"DIV",{class:!0});var f=E(t);n=R(f,"svg",{height:!0,width:!0,id:!0});var u=E(n);r=R(u,"text",{x:!0,y:!0,id:!0,"text-anchor":!0,"font-size":!0,class:!0});var g=E(r);l=le(g,o),g.forEach(d);for(let p=0;p<c.length;p+=1)c[p].l(u);u.forEach(d),i=J(f),f.forEach(d),this.h()},h(){a(r,"x","5"),a(r,"y",20),a(r,"id","cityLabel"),a(r,"text-anchor","start"),a(r,"font-size","15"),a(r,"class","svelte-9wop4q"),a(n,"height",145),a(n,"width",126),a(n,"id","svgChart"),a(t,"class","chart svelte-9wop4q")},m(s,f){D(s,t,f),w(t,n),w(n,r),w(r,l);for(let u=0;u<c.length;u+=1)c[u]&&c[u].m(n,null);w(t,i)},p(s,f){if(f&1&&o!==(o=s[5].split(",")[0]+"")&&Ue(l,o),f&3){h=$(s[1]);let u;for(u=0;u<h.length;u+=1){const g=hn(s,h,u);c[u]?c[u].p(g,f):(c[u]=pn(g),c[u].c(),c[u].m(n,null))}for(;u<c.length;u+=1)c[u].d(1);c.length=h.length}},d(s){s&&d(t),_e(c,s)}}}function Ho(e){let t,n=$(e[0]),r=[];for(let o=0;o<n.length;o+=1)r[o]=vn(fn(e,n,o));return{c(){t=O("div");for(let o=0;o<r.length;o+=1)r[o].c();this.h()},l(o){t=L(o,"DIV",{id:!0,class:!0});var l=E(t);for(let i=0;i<r.length;i+=1)r[i].l(l);l.forEach(d),this.h()},h(){a(t,"id","chartWrapper"),a(t,"class","svelte-9wop4q")},m(o,l){D(o,t,l);for(let i=0;i<r.length;i+=1)r[i]&&r[i].m(t,null)},p(o,[l]){if(l&3){n=$(o[0]);let i;for(i=0;i<n.length;i+=1){const h=fn(o,n,i);r[i]?r[i].p(h,l):(r[i]=vn(h),r[i].c(),r[i].m(t,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},i:Te,o:Te,d(o){o&&d(t),_e(r,o)}}}let Pe=9,Ge=12;function Yo(e){const t=e.reduce((o,l)=>o+l,0),n=e.map(o=>Math.round(o)),r=Math.floor(t)-n.reduce((o,l)=>o+l,0);for(let o=0;o<r;o++)if(e[o]!==0){n[o]++;break}return n}function zo(e,t,n){let r,o,l,{data:i}=t,{cities:h}=t;return e.$$set=c=>{"data"in c&&n(2,i=c.data),"cities"in c&&n(0,h=c.cities)},e.$$.update=()=>{e.$$.dirty&4&&n(4,r=Tt(i,c=>c.GEO,c=>c.Type)),e.$$.dirty&16&&n(3,o=Array.from(r,([c,s])=>({GEO:c,sums:Array.from(s,([f,u])=>({Type:f,sumValue:Mt(u,g=>g.VALUE)}))}))),e.$$.dirty&9&&n(3,o=o.filter(c=>h.includes(c.GEO))),e.$$.dirty&8&&n(1,l=o.map(c=>{const s=c.sums.filter(p=>p.Type!=="new").reduce((p,m)=>p+m.sumValue,0);let f=Math.round(100*c.sums.filter(p=>p.Type==="m-to-m")[0].sumValue/s),u=Math.round(100*c.sums.filter(p=>p.Type==="s-to-m")[0].sumValue/s),g=Math.round(100*c.sums.filter(p=>p.Type==="n-to-r")[0].sumValue/s);return[f,u,g]=Yo([f,u,g]),{GEO:c.GEO,PerMtoM:f,PerStoM:u,PerNtoR:g}})),e.$$.dirty&2&&console.log(l)},[h,l,i,o,r]}class Vo extends st{constructor(t){super(),ct(this,t,zo,Ho,ut,{data:2,cities:0})}}var wn={},pt={},vt=34,Ze=10,wt=13;function Hn(e){return new Function("d","return {"+e.map(function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'}).join(",")+"}")}function Wo(e,t){var n=Hn(e);return function(r,o){return t(n(r),o,e)}}function bn(e){var t=Object.create(null),n=[];return e.forEach(function(r){for(var o in r)o in t||n.push(t[o]=o)}),n}function de(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}function No(e){return e<0?"-"+de(-e,6):e>9999?"+"+de(e,6):de(e,4)}function Io(e){var t=e.getUTCHours(),n=e.getUTCMinutes(),r=e.getUTCSeconds(),o=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":No(e.getUTCFullYear())+"-"+de(e.getUTCMonth()+1,2)+"-"+de(e.getUTCDate(),2)+(o?"T"+de(t,2)+":"+de(n,2)+":"+de(r,2)+"."+de(o,3)+"Z":r?"T"+de(t,2)+":"+de(n,2)+":"+de(r,2)+"Z":n||t?"T"+de(t,2)+":"+de(n,2)+"Z":"")}function Bo(e){var t=new RegExp('["'+e+`
\r]`),n=e.charCodeAt(0);function r(u,g){var p,m,M=o(u,function(T,F){if(p)return p(T,F-1);m=T,p=g?Wo(T,g):Hn(T)});return M.columns=m||[],M}function o(u,g){var p=[],m=u.length,M=0,T=0,F,I=m<=0,A=!1;u.charCodeAt(m-1)===Ze&&--m,u.charCodeAt(m-1)===wt&&--m;function V(){if(I)return pt;if(A)return A=!1,wn;var C,k=M,P;if(u.charCodeAt(k)===vt){for(;M++<m&&u.charCodeAt(M)!==vt||u.charCodeAt(++M)===vt;);return(C=M)>=m?I=!0:(P=u.charCodeAt(M++))===Ze?A=!0:P===wt&&(A=!0,u.charCodeAt(M)===Ze&&++M),u.slice(k+1,C-1).replace(/""/g,'"')}for(;M<m;){if((P=u.charCodeAt(C=M++))===Ze)A=!0;else if(P===wt)A=!0,u.charCodeAt(M)===Ze&&++M;else if(P!==n)continue;return u.slice(k,C)}return I=!0,u.slice(k,m)}for(;(F=V())!==pt;){for(var U=[];F!==wn&&F!==pt;)U.push(F),F=V();g&&(U=g(U,T++))==null||p.push(U)}return p}function l(u,g){return u.map(function(p){return g.map(function(m){return f(p[m])}).join(e)})}function i(u,g){return g==null&&(g=bn(u)),[g.map(f).join(e)].concat(l(u,g)).join(`
`)}function h(u,g){return g==null&&(g=bn(u)),l(u,g).join(`
`)}function c(u){return u.map(s).join(`
`)}function s(u){return u.map(f).join(e)}function f(u){return u==null?"":u instanceof Date?Io(u):t.test(u+="")?'"'+u.replace(/"/g,'""')+'"':u}return{parse:r,parseRows:o,format:i,formatBody:h,formatRows:c,formatRow:s,formatValue:f}}var Ro=Bo(","),Po=Ro.parse;function Go(e){let t,n,r,o,l,i,h,c,s,f,u,g,p,m,M,T,F,I,A,V,U='<div class="title"><h1>Tracking Residential Dwelling Conversions</h1> <h2>An Exploration of Canadian Building Permit Survey Data</h2> <h2></h2> <p><a href="https://jamaps.github.io" target="_blank">Jeff Allen</a> </p><p>July 2024</p></div>',C,k,P,oe="<p>â–¼</p>",he,W,K,Ce='Many Canadian cities need more housing, both now and in the near future. While urban sprawl consumes green spaces and strains resources, the conversion and expansion of existing buildings offer a more sustainable path forward. Research in Canada has shown that <a href="https://imfg.org/research/doc/?doc_id=637" target="_blank">urban sprawl has far worse impacts on climate change than infill development</a>. Moreover, <a href="https://csbe.civmin.utoronto.ca/wp-content/uploads/2023/11/khr_Saxe_FIG2023.pdf" target="_blank">maintaining existing building stock</a> to help construct new units can reduce emissions related to procuring and transporting new building material.',Ee,me,ee="There are a variety of building conversions: altering a single-family home to create additional dwelling units (a basement apartment for example); a duplex expanding into a triplex or fourplex; or converting a previously non-residential building into residential units.",pe,G,we="On this page, we chart how different Canadian urban regions are doing in terms of creating new residential dwelling units from building conversions, over the five year period of 2019 to 2023.",X,ge,te='The data are sourced from Statistics Canada&#39;s <a href="https://www23.statcan.gc.ca/imdb/p2SV.pl?Function=getSurvey&amp;Id=418552&amp;" target="_blank">Building Permit Survey</a>. This survey tracks attributes of building permits by Census Metropolitan Area (CMA) on a monthly basis. The survey includes the number of new dwelling units that were created due to building conversions, and has categories for three types of conversions (a. non-residential to residential, b. single dwelling to multiple dwellings, and c. multiple to multiple).',y,H,v="Overall across Canada there were <b>104,425</b> new dwelling units created via conversions in the five-year period from 01/2019 to 12/2023. This accounts for <b>7.9%</b> of all new residential dwelling units created during this period, based on the data recorded in the building permit survey. Below we chart how this varies by CMA, trends over time, as well as different types of building conversions.",Q,Fe,Ae,b,x,S,_=`<h3>New dwellings from building conversions, 01/2019 to 12/2023</h3> <p style="font-size: 15px"><svg height="15" width="28"><text x="14" y="11" text-anchor="middle" font-size="12" style="fill: #ab1269;">100</text><line x1="0" y1="14" x2="28" y2="14" style="stroke: #ab1269; stroke-width: 3;"></line></svg>
				Yearly totals
				<svg height="25" width="25"><line x1="5" y1="20" x2="5" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line><line x1="10" y1="15" x2="10" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line><line x1="15" y1="5" x2="15" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line><line x1="20" y1="10" x2="20" y2="25" style="stroke:#F1C500; stroke-width:5; opacity: 0.42"></line></svg>
				Monthly trends</p>`,ne,Y,re,z,Me='<h3>Proportion of new dwellings by type of building conversion</h3> <div style="margin-top: -15px"><svg height="25" width="300"><text x="0" y="12" id="years" text-anchor="start" font-size="16" class="svelte-1relrd6">01/2019 to 12/2023 (5 years total)</text></svg></div> <p style="font-size: 15px; margin-bottom: -25px"><svg height="100" width="400"><text x="0" y="12" text-anchor="start" font-size="16" style="fill: #1470ad;">One square = 1% of new dwellings from conversions</text><rect x="0" y="27" width="9" height="9" fill="#3597CE"></rect><text x="15" y="37" text-anchor="start" font-size="16" style="fill: #1470ad;">Non-residential to residential</text><rect x="0" y="52" width="9" height="9" fill="#F1C500"></rect><text x="15" y="62" text-anchor="start" font-size="16" style="fill: #1470ad;">Single dwelling to multiple dwellings</text><rect x="0" y="77" width="9" height="9" fill="#ce6c35"></rect><text x="15" y="87" text-anchor="start" font-size="16" style="fill: #1470ad;">Multiple dwellings to multiple dwellings</text></svg></p>',We,Oe,ht,Le,St='<p>Code for this page is hosted on a <a href="https://github.com/schoolofcities/gentle-density" target="_blank">GitHub repository</a>. The subset of Building Permit Survey data shown on these charts can be accessed <a href="https://raw.githubusercontent.com/schoolofcities/gentle-density/main/static/conversions-canada-2018-to-2024.csv" target="_blank">as a .csv file by clicking here</a>. The full dataset, including many other types of building permits, can be queried and downloaded from <a href="https://www150.statcan.gc.ca/t1/tbl1/en/tv.action?pid=3410028501" target="_blank">Statistics Canada</a>.</p>',Je;return F=new Nn({}),b=new To({props:{data:e[0],cities:e[1]}}),Y=new Fo({props:{data:e[0],cities:e[1]}}),Oe=new Vo({props:{data:e[0],cities:e[1]}}),{c(){t=O("meta"),n=O("meta"),r=O("meta"),o=O("meta"),l=O("meta"),i=O("meta"),h=O("meta"),c=O("meta"),s=O("meta"),f=O("meta"),u=O("meta"),g=O("meta"),p=O("meta"),m=O("meta"),M=O("meta"),T=q(),Xe(F.$$.fragment),I=q(),A=O("main"),V=O("div"),V.innerHTML=U,C=q(),k=O("div"),P=O("div"),P.innerHTML=oe,he=q(),W=O("div"),K=O("p"),K.innerHTML=Ce,Ee=q(),me=O("p"),me.textContent=ee,pe=q(),G=O("p"),G.textContent=we,X=q(),ge=O("p"),ge.innerHTML=te,y=q(),H=O("p"),H.innerHTML=v,Q=q(),Fe=O("br"),Ae=q(),Xe(b.$$.fragment),x=q(),S=O("div"),S.innerHTML=_,ne=q(),Xe(Y.$$.fragment),re=q(),z=O("div"),z.innerHTML=Me,We=q(),Xe(Oe.$$.fragment),ht=q(),Le=O("div"),Le.innerHTML=St,this.h()},l(j){const Z=Vn("svelte-iwu35y",document.head);t=L(Z,"META",{name:!0,content:!0}),n=L(Z,"META",{name:!0,content:!0}),r=L(Z,"META",{name:!0,content:!0}),o=L(Z,"META",{property:!0,content:!0}),l=L(Z,"META",{property:!0,content:!0}),i=L(Z,"META",{property:!0,content:!0}),h=L(Z,"META",{property:!0,content:!0}),c=L(Z,"META",{property:!0,content:!0}),s=L(Z,"META",{property:!0,content:!0}),f=L(Z,"META",{name:!0,content:!0}),u=L(Z,"META",{name:!0,content:!0}),g=L(Z,"META",{name:!0,content:!0}),p=L(Z,"META",{name:!0,content:!0}),m=L(Z,"META",{name:!0,content:!0}),M=L(Z,"META",{name:!0,content:!0}),Z.forEach(d),T=J(j),Ke(F.$$.fragment,j),I=J(j),A=L(j,"MAIN",{});var He=E(A);V=L(He,"DIV",{class:!0,style:!0,"data-svelte-h":!0}),be(V)!=="svelte-1b4pu1x"&&(V.innerHTML=U),C=J(He),k=L(He,"DIV",{class:!0});var ce=E(k);P=L(ce,"DIV",{class:!0,"data-svelte-h":!0}),be(P)!=="svelte-1s98lsq"&&(P.innerHTML=oe),he=J(ce),W=L(ce,"DIV",{class:!0});var fe=E(W);K=L(fe,"P",{"data-svelte-h":!0}),be(K)!=="svelte-19t3y5t"&&(K.innerHTML=Ce),Ee=J(fe),me=L(fe,"P",{"data-svelte-h":!0}),be(me)!=="svelte-9ij9lg"&&(me.textContent=ee),pe=J(fe),G=L(fe,"P",{"data-svelte-h":!0}),be(G)!=="svelte-18isnzl"&&(G.textContent=we),X=J(fe),ge=L(fe,"P",{"data-svelte-h":!0}),be(ge)!=="svelte-1agh4sb"&&(ge.innerHTML=te),y=J(fe),H=L(fe,"P",{"data-svelte-h":!0}),be(H)!=="svelte-1pek1vq"&&(H.innerHTML=v),Q=J(fe),Fe=L(fe,"BR",{}),Ae=J(fe),Ke(b.$$.fragment,fe),fe.forEach(d),x=J(ce),S=L(ce,"DIV",{class:!0,"data-svelte-h":!0}),be(S)!=="svelte-1eecfim"&&(S.innerHTML=_),ne=J(ce),Ke(Y.$$.fragment,ce),re=J(ce),z=L(ce,"DIV",{class:!0,"data-svelte-h":!0}),be(z)!=="svelte-10fv0b3"&&(z.innerHTML=Me),We=J(ce),Ke(Oe.$$.fragment,ce),ht=J(ce),Le=L(ce,"DIV",{class:!0,"data-svelte-h":!0}),be(Le)!=="svelte-1i7mwzp"&&(Le.innerHTML=St),ce.forEach(d),He.forEach(d),this.h()},h(){a(t,"name","viewport"),a(t,"content","width=device-width, initial-scale=1, minimum-scale=1"),document.title="Residential Conversions Across Canada | School of Cities",a(n,"name","description"),a(n,"content","Tracking residential dwelling conversions. An exploration of Canadian building permit survey data"),a(r,"name","author"),a(r,"content","Jeff Allen"),a(o,"property","og:title"),a(o,"content","Residential Conversions Across Canada"),a(l,"property","og:description"),a(l,"content","Tracking residential dwelling conversions. An exploration of Canadian building permit survey data"),a(i,"property","og:type"),a(i,"content","website"),a(h,"property","og:url"),a(h,"content","https://schoolofcities.github.io/gentle-density/canadian-residential-conversions"),a(c,"property","og:image"),a(c,"content","https://raw.githubusercontent.com/schoolofcities/gentle-density/main/static/web-card-conversions.png"),a(s,"property","og:locale"),a(s,"content","en_CA"),a(f,"name","twitter:card"),a(f,"content","summary_large_image"),a(u,"name","twitter:site"),a(u,"content","https://schoolofcities.github.io/gentle-density/canadian-residential-conversions"),a(g,"name","twitter:creator"),a(g,"content","@JeffAllenMaps"),a(p,"name","twitter:title"),a(p,"content","Residential Conversions Across Canada"),a(m,"name","twitter:description"),a(m,"content","Tracking residential dwelling conversions. An exploration of Canadian building permit survey data"),a(M,"name","twitter:image"),a(M,"content","https://raw.githubusercontent.com/schoolofcities/gentle-density/main/static/web-card-conversions.png"),a(V,"class","blueprint"),ye(V,"background-image","url('../gentle-density/blueprint-background-convert.png')"),a(P,"class","arrow"),a(W,"class","text"),a(S,"class","text"),a(z,"class","text"),a(Le,"class","text"),a(k,"class","background-white svelte-1relrd6")},m(j,Z){w(document.head,t),w(document.head,n),w(document.head,r),w(document.head,o),w(document.head,l),w(document.head,i),w(document.head,h),w(document.head,c),w(document.head,s),w(document.head,f),w(document.head,u),w(document.head,g),w(document.head,p),w(document.head,m),w(document.head,M),D(j,T,Z),et(F,j,Z),D(j,I,Z),D(j,A,Z),w(A,V),w(A,C),w(A,k),w(k,P),w(k,he),w(k,W),w(W,K),w(W,Ee),w(W,me),w(W,pe),w(W,G),w(W,X),w(W,ge),w(W,y),w(W,H),w(W,Q),w(W,Fe),w(W,Ae),et(b,W,null),w(k,x),w(k,S),w(k,ne),et(Y,k,null),w(k,re),w(k,z),w(k,We),et(Oe,k,null),w(k,ht),w(k,Le),Je=!0},p(j,[Z]){const He={};Z&1&&(He.data=j[0]),b.$set(He);const ce={};Z&1&&(ce.data=j[0]),Y.$set(ce);const fe={};Z&1&&(fe.data=j[0]),Oe.$set(fe)},i(j){Je||(tt(F.$$.fragment,j),tt(b.$$.fragment,j),tt(Y.$$.fragment,j),tt(Oe.$$.fragment,j),Je=!0)},o(j){nt(F.$$.fragment,j),nt(b.$$.fragment,j),nt(Y.$$.fragment,j),nt(Oe.$$.fragment,j),Je=!1},d(j){j&&(d(T),d(I),d(A)),d(t),d(n),d(r),d(o),d(l),d(i),d(h),d(c),d(s),d(f),d(u),d(g),d(p),d(m),d(M),rt(F,j),rt(b),rt(Y),rt(Oe)}}}function jo(e,t,n){let r=[];async function o(){try{const h=await(await fetch("conversions-canada-2018-to-2024.csv")).text();n(0,r=Po(h)),n(0,r=r.filter(c=>!c.REF_DATE.includes("2024"))),n(0,r=r.filter(c=>!c.REF_DATE.includes("2018"))),r.forEach(c=>{c.VALUE=parseFloat(c.VALUE)})}catch(i){console.error("Error loading CSV data:",i)}}return Wn(()=>{o()}),[r,["All Canada","Abbotsford-Mission, British Columbia","Barrie, Ontario","Belleville-Quinte West, Ontario","Brantford, Ontario","Calgary, Alberta","Chilliwack, British Columbia","Edmonton, Alberta","Fredericton, New Brunswick","Greater Sudbury, Ontario","Guelph, Ontario","Halifax, Nova Scotia","Hamilton, Ontario","Kamloops, British Columbia","Kelowna, British Columbia","Kingston, Ontario","Kitchener-Cambridge-Waterloo, Ontario","Lethbridge, Alberta","London, Ontario","Moncton, New Brunswick","MontrÃ©al, Quebec","Nanaimo, British Columbia","Oshawa, Ontario","Ottawa-Gatineau, Ontario-Quebec","QuÃ©bec, Quebec","Peterborough, Ontario","Regina, Saskatchewan","Saguenay, Quebec","Saint John, New Brunswick","Saskatoon, Saskatchewan","Sherbrooke, Quebec","St. Catharines-Niagara, Ontario","St. John's, Newfoundland and Labrador","Thunder Bay, Ontario","Toronto, Ontario","Trois-RiviÃ¨res, Quebec","Vancouver, British Columbia","Victoria, British Columbia","Windsor, Ontario","Winnipeg, Manitoba"]]}class ei extends st{constructor(t){super(),ct(this,t,jo,Go,ut,{})}}export{ei as component,Ko as universal};
